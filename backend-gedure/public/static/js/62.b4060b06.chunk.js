(this["webpackJsonpfrontend-la-candelaria"]=this["webpackJsonpfrontend-la-candelaria"]||[]).push([[62],{1299:function(e,a,r){"use strict";r.r(a),r.d(a,"default",(function(){return m}));var t=r(48),n=r.n(t),o=r(6),s=r(67),l=(r(0),r(816)),i=r(105),c=r(262),u=r(12),p=r(264),d=r(268),j=r(1);function m(){var e=Object(u.d)((function(e){return{loading:e.forms.updatePersonalRepreEmpleo.loading,user:e.userData.user}})),a=e.loading,r=e.user,t=Object(c.c)({mode:"onTouched"}),m=t.register,b=t.errors,f=t.handleSubmit,x=t.watch,O=Object(u.c)(),h=Object(i.a)().fetchData,g=function(){var e=Object(s.a)(n.a.mark((function e(a){var r,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Object(p.a)("updatePersonalRepreEmpleo",!0)),"No"===a.personalData.repre_empleo&&(a.personalData.repre_empleo_profesion=null,a.personalData.repre_empleo_lugar=null),r={url:"v1/user",type:"post",data:Object(o.a)(Object(o.a)({},a),{},{_method:"PUT"}),successText:"Datos actualizados"},e.next=5,h(r);case 5:(t=e.sent)&&O(Object(d.a)({user:t.user})),O(Object(p.a)("updatePersonalRepreEmpleo",!1));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(j.jsx)(l.PersonalRepresentanteEmpleoForm,{onSubmit:f(g),register:m,errors:b,watch:x,loading:a,buttonText:"Actualizar",user:r})}},263:function(e,a,r){"use strict";var t=r(6),n=(r(0),r(355)),o=r(333),s=r(60),l=r(226),i=r(188),c=r(152),u=r(1),p=Object(c.a)((function(e){return{progressLabel:{marginTop:5}}}));a.a=function(e){var a=e.loading,r=e.backDrop,c=void 0!==r&&r,d=e.children,j=function(e){var a=e.color,r=void 0===a?"primary":a,t=e.progressLabel,i=e.progressLoading,c=e.progress,d=p();return i&&c<=99?Object(u.jsxs)(n.a,{children:[Object(u.jsxs)(n.a,{position:"relative",display:"inline-flex",children:[Object(u.jsx)(o.a,{color:r,variant:"static",value:c}),Object(u.jsx)(n.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(u.jsxs)(s.a,{variant:"caption",component:"div",color:"textSecondary",children:[c,"%"]})})]}),t&&Object(u.jsx)(l.a,{container:!0,justify:"center",children:Object(u.jsx)("span",{className:d.progressLabel,children:t})})]}):Object(u.jsx)(o.a,{color:r})};return a&&!c?Object(u.jsx)(j,Object(t.a)({},e)):a&&c?Object(u.jsx)(i.a,{open:!0,style:{zIndex:200},children:Object(u.jsx)(j,Object(t.a)({},e))}):d}},268:function(e,a,r){"use strict";a.a=function(e){return{type:"UPDATE_DATA_USER",payload:e}}},816:function(e,a,r){"use strict";r.r(a),r.d(a,"PersonalRepresentanteEmpleoForm",(function(){return w})),r.d(a,"default",(function(){return R}));var t=r(48),n=r.n(t),o=r(6),s=r(67),l=r(0),i=r.n(l),c=r(226),u=r(60),p=r(355),d=r(334),j=r(491),m=r(1284),b=r(378),f=r(437),x=r(655),O=r(489),h=r(488),g=r(262),v=r(105),_=r(263),D=r(12),y=r(264),E=r(268),T=r(1);function w(e){var a,r,t,n,o,s,l=e.onSubmit,g=e.user,v=e.loading,D=e.register,y=e.errors,E=e.watch,w=e.buttonText,R=e.buttonDisable;return Object(T.jsx)("form",{onSubmit:l,autoComplete:"off",children:Object(T.jsxs)(c.a,{container:!0,spacing:2,children:[Object(T.jsxs)(c.a,{item:!0,xs:12,children:[Object(T.jsx)(u.a,{variant:"h6",component:"span",className:"text__bold--semi",children:"Empleo del representante"}),Object(T.jsx)(p.a,{mt:1,children:Object(T.jsx)(d.a,{})})]}),Object(T.jsx)(c.a,{item:!0,xs:12,children:Object(T.jsxs)(j.a,{component:"fieldset",disabled:v,children:[Object(T.jsx)(m.a,{component:"legend",children:"\xbfTiene empleo?"}),Object(T.jsxs)(b.a,{"aria-label":"empleo",defaultValue:g.personal_data.repre_empleo||"No",name:"personalData.repre_empleo",row:!0,children:[Object(T.jsx)(f.a,{value:"No",control:Object(T.jsx)(x.a,{inputRef:D}),label:"No"}),Object(T.jsx)(f.a,{value:"Si",control:Object(T.jsx)(x.a,{inputRef:D}),label:"Si"})]})]})}),"Si"===E("personalData.repre_empleo","No")&&Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)(c.a,{item:!0,xs:12,children:Object(T.jsx)(O.a,{inputRef:D({required:{value:!0,message:"* Campo requerido"},minLength:{value:3,message:"Error: Demaciado corto"},maxLength:{value:30,message:"Error: Demaciado largo"}}),error:Boolean(null===y||void 0===y||null===(a=y.personalData)||void 0===a?void 0:a.repre_empleo_profesion),helperText:(null===y||void 0===y||null===(r=y.personalData)||void 0===r||null===(t=r.repre_empleo_profesion)||void 0===t?void 0:t.message)?y.personalData.repre_empleo_profesion.message:"",variant:"outlined",name:"personalData.repre_empleo_profesion",defaultValue:g.personal_data.repre_empleo_profesion||"",label:"Profesi\xf3n",size:"small",disabled:v,fullWidth:!0})}),Object(T.jsx)(c.a,{item:!0,xs:12,children:Object(T.jsx)(O.a,{inputRef:D({required:{value:!0,message:"* Campo requerido"},minLength:{value:3,message:"Error: Demaciado corto"},maxLength:{value:30,message:"Error: Demaciado largo"}}),error:Boolean(null===y||void 0===y||null===(n=y.personalData)||void 0===n?void 0:n.repre_empleo_lugar),helperText:(null===y||void 0===y||null===(o=y.personalData)||void 0===o||null===(s=o.repre_empleo_lugar)||void 0===s?void 0:s.message)?y.personalData.repre_empleo_lugar.message:"",variant:"outlined",name:"personalData.repre_empleo_lugar",label:"Lugar donde trabaja",defaultValue:g.personal_data.repre_empleo_lugar||"",size:"small",disabled:v,fullWidth:!0})})]}),!R&&Object(T.jsx)(c.a,{container:!0,justify:"flex-end",item:!0,xs:12,children:Object(T.jsx)(_.a,{loading:v,children:Object(T.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",children:w})})})]})})}function R(e){var a=e.id,r=Object(D.d)((function(e){return{user:e.forms.showUser.data.user,loading:e.forms.updatePersonalRepreEmpleo.loading,userData:e.userData.user}})),t=r.user,l=r.loading,i=r.userData,c=Object(D.c)(),u=Object(g.c)({mode:"onTouched"}),p=u.register,d=u.errors,j=u.watch,m=u.handleSubmit,b=Object(v.a)().fetchData,f=function(){var e=Object(s.a)(n.a.mark((function e(r){var t,s,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(y.a)("updatePersonalRepreEmpleo",!0)),"No"===r.personalData.repre_empleo&&(r.personalData.repre_empleo_profesion=null,r.personalData.repre_empleo_lugar=null),t={url:"v1/user/".concat(a),type:"post",data:Object(o.a)(Object(o.a)({},r),{},{_method:"PUT"}),successText:"Datos actualizados"},e.next=5,b(t);case 5:(s=e.sent)&&(c(Object(y.a)("showUser",!1,s)),(null===(l=s.user)||void 0===l?void 0:l.id)===i.id&&c(Object(E.a)({user:s.user}))),c(Object(y.a)("updatePersonalRepreEmpleo",!1));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(T.jsx)(w,{onSubmit:m(f),register:p,errors:d,watch:j,loading:l,buttonText:"Actualizar",user:t})}}}]);
//# sourceMappingURL=62.b4060b06.chunk.js.map