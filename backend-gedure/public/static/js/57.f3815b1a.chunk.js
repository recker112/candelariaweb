(this["webpackJsonpfrontend-la-candelaria"]=this["webpackJsonpfrontend-la-candelaria"]||[]).push([[57],{1316:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var n=a(48),r=a.n(n),c=a(67),i=a(0),o=a(226),s=a(105),u=a(657),d=a(35),l=a(438),f=a.n(l),j=a(654),b=a.n(j),O=a(1264),p=a.n(O),m=a(478),v=a.n(m),g=a(562),x=a(12),h=a(305),y=a(1);function C(e){var t,a,n=e.tableRef,l=Object(x.d)((function(e){return{permissions:e.userData.permissions}})).permissions,j=Object(i.useState)(!1),O=Object(d.a)(j,2),m=O[0],C=O[1],w=Object(i.useState)(5),R=Object(d.a)(w,2),k=R[0],P=R[1],S=Object(x.c)(),E=Object(s.a)().fetchData,T=Object(i.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"v1/user-disabled?page=".concat(t.page,"&per_page=").concat(t.pageSize,"&search=").concat(encodeURI(t.search)),type:"get",messageToFinish:!1},e.next=3,E(a);case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",{data:n.data,page:n.page,totalCount:n.totalUsers});case 8:return e.abrupt("return",{data:[],page:0,totalCount:0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(y.jsx)(o.a,{item:!0,xs:12,children:Object(y.jsx)(f.a,{tableRef:n,title:"Usuarios desactivados",icons:g.a,localization:g.b,data:T,onChangeRowsPerPage:function(e){return P(e)},columns:[{title:"Usuario",field:"code",render:function(e){return"".concat(e.privilegio).concat(e.username)}},{title:"Nombre",field:"name"},{title:"Correo",field:"email"}],actions:[{icon:function(){return Object(y.jsx)(b.a,{})},tooltip:"Opciones masivas",isFreeAction:!0,onClick:function(){return C((function(e){return!e}))}},{icon:function(){return Object(y.jsx)(p.a,{})},tooltip:"Reactivar cuenta",disabled:!(null===l||void 0===l||null===(t=l.gedure)||void 0===t?void 0:t.users_disabled_restore),onClick:function(e,t){if(m){var a,n=0,r=[],c=Object(u.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;r[n]=i.id,n++}}catch(s){c.e(s)}finally{c.f()}S(Object(h.a)("deleteConfirmation",!0,!1,{massive:!0,ids:r,type:"restore"}))}else{var o={id:t.id,username:t.username,type:"restore"};S(Object(h.a)("deleteConfirmation",!0,!1,o))}}},{icon:function(){return Object(y.jsx)(v.a,{})},tooltip:"Eliminar cuenta",disabled:!(null===l||void 0===l||null===(a=l.gedure)||void 0===a?void 0:a.users_disabled_destroy),onClick:function(e,t){if(m){var a,n=0,r=[],c=Object(u.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;r[n]=i.id,n++}}catch(s){c.e(s)}finally{c.f()}S(Object(h.a)("deleteConfirmation",!0,!1,{massive:!0,ids:r,type:"destroy"}))}else{var o={id:t.id,username:t.username,type:"destroy"};S(Object(h.a)("deleteConfirmation",!0,!1,o))}}}],options:{sorting:!1,draggable:!1,actionsColumnIndex:-1,selection:m,pageSize:k}})})}var w=a(509);function R(){var e,t,a=Object(i.useRef)(null),n=Object(x.d)((function(e){return{data:e.dialogs.deleteConfirmation.data}})).data,u=Object(x.c)(),d=Object(s.a)().fetchData,l=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled/restore/".concat(n.id),type:"post",data:{_method:"PATCH"},message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(h.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled/restore?ids=".concat(encodeURI(JSON.stringify(n.ids))),type:"post",data:{_method:"PATCH"},message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(h.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled/".concat(n.id),type:"delete",message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(h.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled?ids=".concat(encodeURI(JSON.stringify(n.ids))),type:"delete",message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(h.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(o.a,{container:!0,spacing:2,children:[Object(y.jsx)(C,{tableRef:a}),"restore"===n.type&&!n.massive&&Object(y.jsxs)(w.a,{callback:l,children:["Est\xe1 a punto de restaurar al usuario ",Object(y.jsx)("strong",{children:n.username}),". Tenga en cuenta que si reactiva a un estudiante el mismo no se le asignar\xe1 un curso."]}),"restore"===n.type&&n.massive&&Object(y.jsxs)(w.a,{callback:f,children:["Est\xe1 a punto de restaurar ",Object(y.jsx)("strong",{children:null===(e=n.ids)||void 0===e?void 0:e.length})," usuarios. Tenga en cuenta que si reactiva a un estudiante el mismo no se le asignar\xe1 un curso."]}),"destroy"===n.type&&!n.massive&&Object(y.jsxs)(w.a,{callback:j,children:["Est\xe1 a punto de eliminar permanentemente al usuario ",Object(y.jsx)("strong",{children:n.username}),". Esta acci\xf3n es irreversible, una vez fuera del sistema no podr\xe1 recuperar los datos."]}),"destroy"===n.type&&n.massive&&Object(y.jsxs)(w.a,{callback:b,children:["Est\xe1 a punto de eliminar permanentemente ",Object(y.jsx)("strong",{children:null===(t=n.ids)||void 0===t?void 0:t.length})," usuarios. Esta acci\xf3n es irreversible, una vez fuera del sistema no podr\xe1 recuperar los datos."]})]})}},305:function(e,t,a){"use strict";t.a=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_DIALOGS_DATA",payload:{dialog:e,open:t,loading:a,data:n}}}},359:function(e,t,a){"use strict";var n=a(6),r=a(0),c=a.n(r),i=a(142),o=a(1),s=c.a.forwardRef((function(e,t){return Object(o.jsx)(i.a,Object(n.a)({direction:"up",ref:t},e))}));t.a=s},509:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));a(0);var n=a(638),r=a(603),c=a(639),i=a(608),o=a(640),s=a(488),u=a(359),d=a(12),l=a(305),f=a(1);function j(e){var t=e.callback,a=e.children,j=Object(d.d)((function(e){return{open:e.dialogs.deleteConfirmation.open,loading:e.dialogs.deleteConfirmation.loading}})),b=j.open,O=j.loading,p=Object(d.c)(),m=function(){p(Object(l.a)("deleteConfirmation",!1,!1))};return Object(f.jsxs)(n.a,{open:b,TransitionComponent:u.a,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[Object(f.jsx)(r.a,{id:"confirm-dialog-title",children:"\xbfSeguro?"}),Object(f.jsx)(c.a,{children:Object(f.jsx)(i.a,{id:"confirm-dialog-description",children:a})}),Object(f.jsxs)(o.a,{children:[Object(f.jsx)(s.a,{disabled:O,onClick:m,children:"Cancelar"}),Object(f.jsx)(s.a,{disabled:O,onClick:function(){p(Object(l.a)("deleteConfirmation",!0,!0)),t(m)},children:"Confirmar"})]})]})}},562:function(e,t,a){"use strict";a.d(t,"b",(function(){return I})),a.d(t,"a",(function(){return N}));var n=a(6),r=a(0),c=a(563),i=a.n(c),o=a(570),s=a.n(o),u=a(564),d=a.n(u),l=a(485),f=a.n(l),j=a(486),b=a.n(j),O=a(565),p=a.n(O),m=a(566),v=a.n(m),g=a(462),x=a.n(g),h=a(482),y=a.n(h),C=a(568),w=a.n(C),R=a(569),k=a.n(R),P=a(571),S=a.n(P),E=a(567),T=a.n(E),D=a(484),A=a.n(D),_=a(572),U=a.n(_),z=a(1),I={body:{emptyDataSourceMessage:"No hay registros"},header:{actions:"Opciones"},toolbar:{searchPlaceholder:"Buscar",searchTooltip:"Buscar",nRowsSelected:"{0} fila(s) marcadas"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas"}},N={Add:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(d.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(p.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(v.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(b.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(x.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(T.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(y.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(w.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(k.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(b.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(f.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(p.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(A.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(s.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(S.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(z.jsx)(U.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))}))}}}]);
//# sourceMappingURL=57.f3815b1a.chunk.js.map