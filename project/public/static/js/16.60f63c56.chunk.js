(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[16],{266:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:a,data:t,status:n}}}},426:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"b",(function(){return r}));var n=[{value:"1G",name:"1 grado"},{value:"2G",name:"2 grado"},{value:"3G",name:"3 grado"},{value:"4G",name:"4 grado"},{value:"5G",name:"5 grado"},{value:"6G",name:"6 grado"},{value:"1",name:"1 a\xf1o"},{value:"2",name:"2 a\xf1o"},{value:"3",name:"3 a\xf1o"},{value:"4",name:"4 a\xf1o"},{value:"5",name:"5 a\xf1o"},{value:"6",name:"6 a\xf1o"}],r=[{value:"A",name:"A"},{value:"B",name:"B"},{value:"C",name:"C"},{value:"U",name:"U"}]},433:function(e,a,t){"use strict";t.d(a,"a",(function(){return G})),t.d(a,"b",(function(){return M}));var n=t(0),r=t.n(n),c=t(557),i=t.n(c),o=t(564),l=t.n(o),u=t(558),s=t.n(u),m=t(373),f=t.n(m),d=t(374),b=t.n(d),g=t(559),p=t.n(g),E=t(560),v=t.n(E),O=t(434),j=t.n(O),h=t(393),y=t.n(h),w=t(562),C=t.n(w),x=t(563),R=t.n(x),k=t(565),T=t.n(k),P=t(561),_=t.n(P),I=t(333),A=t.n(I),S=t(566),U=t.n(S),G={Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(i.a,Object.assign({},e,{ref:a}))})),Check:Object(n.forwardRef)((function(e,a){return r.a.createElement(s.a,Object.assign({},e,{ref:a}))})),Clear:Object(n.forwardRef)((function(e,a){return r.a.createElement(p.a,Object.assign({},e,{ref:a}))})),Delete:Object(n.forwardRef)((function(e,a){return r.a.createElement(v.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(n.forwardRef)((function(e,a){return r.a.createElement(b.a,Object.assign({},e,{ref:a}))})),Edit:Object(n.forwardRef)((function(e,a){return r.a.createElement(j.a,Object.assign({},e,{ref:a}))})),Export:Object(n.forwardRef)((function(e,a){return r.a.createElement(_.a,Object.assign({},e,{ref:a}))})),Filter:Object(n.forwardRef)((function(e,a){return r.a.createElement(y.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(C.a,Object.assign({},e,{ref:a}))})),LastPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(R.a,Object.assign({},e,{ref:a}))})),NextPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(b.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(f.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(n.forwardRef)((function(e,a){return r.a.createElement(p.a,Object.assign({},e,{ref:a}))})),Search:Object(n.forwardRef)((function(e,a){return r.a.createElement(A.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(n.forwardRef)((function(e,a){return r.a.createElement(l.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,a){return r.a.createElement(T.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(n.forwardRef)((function(e,a){return r.a.createElement(U.a,Object.assign({},e,{ref:a}))}))},M={body:{emptyDataSourceMessage:"No hay registros"},header:{actions:"Opciones"},toolbar:{searchPlaceholder:"Buscar",searchTooltip:"Buscar"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas"}}},971:function(e,a,t){"use strict";var n=t(20);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),c=(0,n(t(21)).default)(r.default.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");a.default=c},972:function(e,a,t){"use strict";var n=t(20);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),c=(0,n(t(21)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.default=c},976:function(e,a,t){"use strict";t.r(a);var n=t(7),r=t(31),c=t(40),i=t(0),o=t.n(i),l=t(239),u=t(330),s=t(188),m=t(331),f=t(1e3),d=t(192),b=t(517),g=t(518),p=t(623),E=t(535),v=t(113),O=t(393),j=t.n(O),h=t(426),y=t(47),w=t.n(y),C=t(63),x=t(249),R=t(625),k=t(429),T=t.n(k),P=t(971),_=t.n(P),I=t(434),A=t.n(I),S=t(972),U=t.n(S),G=t(100),M=t(433),z=t(14),D=t(266),N=Object(v.a)((function(e){return{avatar:{backgroundColor:e.palette.secondary.main,color:"white"}}}));function V(e){var a=e.tableRef,t=e.filters,n=Object(z.d)((function(e){return{loading:e.forms.usersIndex.loading}})).loading,r=Object(z.c)(),c=Object(G.a)().fetchData,l=N(),u=Object(i.useCallback)(function(){var e=Object(C.a)(w.a.mark((function e(a){var i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(a.page=0),i={url:"v1/users?page=".concat(a.page,"&per_page=").concat(a.pageSize,"&search=").concat(encodeURI(a.search),"&type=").concat(t.type||"","&curso=").concat(t.curso||"","&seccion=").concat(t.seccion||""),type:"get",messageToFinish:!1},e.next=4,c(i);case 4:if(o=e.sent,r(Object(D.a)("usersIndex",!1)),!o){e.next=10;break}return e.abrupt("return",{data:o.data||[],page:o.page||0,totalCount:o.totalUsers||0});case 10:return e.abrupt("return",{data:[],page:0,totalCount:0});case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[t]);return o.a.createElement(T.a,{tableRef:a,title:"Lista de usuarios",icons:M.a,localization:M.b,data:u,columns:[{title:"Avatar",field:"avatar",render:function(e){return o.a.createElement(x.a,{className:l.avatar,src:e.avatar,alt:"Avatar User de ".concat(e.name)},e.name.substring(0,1).toUpperCase())}},{title:"Usuario",field:"username",render:function(e){return"V-"===e.privilegio?"".concat(e.privilegio).concat(e.username," (N\xb0 lista ").concat(e.estudiante_data.n_lista,")"):"".concat(e.privilegio).concat(e.username)}},{title:"Nombre",field:"name"},{title:"Correo",field:"email"},{title:"Estado",field:"registred_at",render:function(e){return o.a.createElement(R.a,{color:e.registred_at?"primary":"default",label:e.registred_at?"Activo":"Inactivo"})}}],actions:[{icon:function(){return o.a.createElement(_.a,null)},tooltip:"Ver",onClick:function(e,a){}},{icon:function(){return o.a.createElement(A.a,null)},tooltip:"Editar",onClick:function(e,a){}},{icon:function(){return o.a.createElement(U.a,null)},tooltip:"Eliminar",onClick:function(e,a){}}],options:{actionsColumnIndex:-1}})}t.d(a,"default",(function(){return F}));var B=Object(v.a)((function(e){var a;return{containerMain:(a={flexGrow:1,paddingBottom:e.spacing(10)},Object(c.a)(a,e.breakpoints.up("xs"),{marginTop:"80px"}),Object(c.a)(a,e.breakpoints.up("sm"),{marginTop:e.spacing(12)}),a),button:{marginRight:e.spacing(1)}}}));function F(){document.title="La Candelaria - Usuarios";var e=Object(i.useState)(!1),a=Object(r.a)(e,2),t=a[0],v=a[1],O=Object(i.useState)({}),y=Object(r.a)(O,2),w=y[0],C=y[1],x=Object(i.useRef)(null),R=Object(z.c)(),k=B(),T=function(e){var a=w;""===e.target.value?a[e.target.name]&&(delete a[e.target.name],C(Object(n.a)({},a)),R(Object(D.a)("usersIndex",!0)),x.current&&x.current.onQueryChange()):e.target.value!==a[e.target.name]&&(C(Object(n.a)(Object(n.a)({},a),{},Object(c.a)({},e.target.name,e.target.value))),R(Object(D.a)("usersIndex",!0)),x.current&&x.current.onQueryChange())};return o.a.createElement("main",{className:k.containerMain},o.a.createElement(l.a,null,o.a.createElement(u.a,{fontSize:"h4.fontSize",mb:3,className:"text__bold--big"},"Usuarios"),o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{container:!0,spacing:1,justify:"flex-end",item:!0,xs:12},o.a.createElement(m.a,{className:k.button,variant:"contained",color:"primary"},"Cargar estudiantes"),o.a.createElement(m.a,{variant:"contained",color:"primary"},"Crear cuenta")),o.a.createElement(s.a,{container:!0,spacing:2,item:!0,xs:12},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(f.a,{badgeContent:Object.keys(w).length,color:"primary"},o.a.createElement(m.a,{onClick:function(){return v(!t)},startIcon:o.a.createElement(j.a,null)},"Filtrador")),o.a.createElement(d.a,{in:t,timeout:"auto",unmountOnExit:!0},o.a.createElement(u.a,{my:2},o.a.createElement(s.a,{container:!0,spacing:2},o.a.createElement(s.a,{item:!0,xs:12,sm:3,md:2},o.a.createElement(b.a,{style:{width:"100%"}},o.a.createElement(g.a,{id:"users-filter-type"},"Tipo de cuenta"),o.a.createElement(p.a,{labelId:"users-filter-type",id:"users-filter-type-select",value:w.type||"",onChange:T,name:"type"},o.a.createElement(E.a,{value:""},o.a.createElement("em",null,"Todos")),o.a.createElement(E.a,{value:"A-"},"Administradores"),o.a.createElement(E.a,{value:"V-"},"Estudiantes")))),o.a.createElement(s.a,{item:!0,xs:12,sm:3,md:2},o.a.createElement(b.a,{style:{width:"100%"}},o.a.createElement(g.a,{id:"users-filter-curso"},"Curso"),o.a.createElement(p.a,{labelId:"users-filter-curso",id:"users-filter-curso-select",disabled:"V-"!==w.type,value:w.curso||"",onChange:T,name:"curso"},o.a.createElement(E.a,{value:""},o.a.createElement("em",null,"Todos")),h.a.map((function(e){return o.a.createElement(E.a,{value:e.value},e.name)}))))),o.a.createElement(s.a,{item:!0,xs:12,sm:3,md:2},o.a.createElement(b.a,{style:{width:"100%"}},o.a.createElement(g.a,{id:"users-filter-seccion"},"Secci\xf3n"),o.a.createElement(p.a,{labelId:"users-filter-seccion",id:"users-filter-seccion-select",disabled:"V-"!==w.type,value:w.seccion||"",onChange:T,name:"seccion"},o.a.createElement(E.a,{value:""},o.a.createElement("em",null,"Todos")),h.b.map((function(e){return o.a.createElement(E.a,{value:e.value},e.name)}))))),o.a.createElement(s.a,{container:!0,alignItems:"center",item:!0,xs:12,sm:3,md:2},o.a.createElement(m.a,{onClick:function(){C({}),R(Object(D.a)("usersIndex",!0)),x.current&&x.current.onQueryChange()}},"Limpiar filtros")))))),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(V,{tableRef:x,filters:w}))))))}}}]);
//# sourceMappingURL=16.60f63c56.chunk.js.map