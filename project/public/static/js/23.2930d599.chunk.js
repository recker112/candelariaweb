(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[23],{234:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(240),l=t(314),i=t(189),o=t(57),s=t(244),u=t(144),m=t(109),d=t(66),p=t.n(d),E=t(525),b=t.n(E),g=t(121),f=t.n(g),h=t(47),v=t.n(h),y=t(64),O=t(29),x=t(653),j=t(659),k=t(471),_=t(357),N=t(261),w=t(101),T=t(280),S=t(347),I=t(14),L=t(281),C=t(674),A=t(675),B=Object(m.a)((function(e){return{button:{width:160}}}));var D=function(){var e,a,t=Object(I.d)((function(e){return{loading:e.forms.login.loading}})).loading,c=Object(I.c)(),l=Object(w.a)().fetchData,u=B(),m=Object(N.c)({mode:"onTouched"}),d=m.handleSubmit,p=m.register,E=m.errors,b=Object(n.useCallback)(function(){var e=Object(y.a)(v.a.mark((function e(a){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(L.a)("login",!0)),t={url:"v1/login",data:a,successText:"Login exitoso",messageTo422:!0},e.next=4,l(t);case 4:(n=e.sent)&&(c(Object(A.a)(n)),a.checkbox?(localStorage.setItem("access_key",JSON.stringify(n.access_key)),sessionStorage.setItem("access_key",JSON.stringify(n.access_key))):sessionStorage.setItem("access_key",JSON.stringify(n.access_key)),c(Object(C.a)(!0))),c(Object(L.a)("login",!1));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[c,l]);return r.a.createElement("form",{onSubmit:d(b)},r.a.createElement(i.a,{container:!0,spacing:3},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(o.a,{className:"text__bold--semi",variant:"h3"},"Ingrese sus datos")),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(x.a,{inputRef:p({required:{value:!0,message:"* Campo requerido"},minLength:{value:3,message:"Error: No v\xe1lido"},maxLength:{value:30,message:"Error: No v\xe1lida"}}),error:Boolean(null===E||void 0===E?void 0:E.username),helperText:(null===E||void 0===E||null===(e=E.username)||void 0===e?void 0:e.message)?E.username.message:"* Campo requerido",name:"username",label:"Usuario o c\xe9dula",fullWidth:!0,disabled:t})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(T.a,{inputRef:p({required:{value:!0,message:"* Campo requerido"},minLength:{value:4,message:"Error: No v\xe1lido"},maxLength:{value:25,message:"Error: No v\xe1lida"}}),name:"password",error:Boolean(null===E||void 0===E?void 0:E.password),helperText:(null===E||void 0===E||null===(a=E.password)||void 0===a?void 0:a.message)?E.password.message:"* Campo requerido",label:"Contrase\xf1a",fullWidth:!0,disabled:t})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(j.a,{control:r.a.createElement(k.a,{color:"primary",disabled:t,name:"checkbox",inputRef:p}),label:"Mantener abierto"})),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(s.a,{component:O.b,to:"/recuperar"},r.a.createElement(o.a,null,"Recuperar contrase\xf1a"))),r.a.createElement(i.a,{container:!0,justify:"center",item:!0,xs:12},r.a.createElement(S.a,{loading:t},r.a.createElement(_.a,{type:"submit",color:"primary",variant:"contained",className:u.button},"Entrar"))),r.a.createElement(i.a,{container:!0,justify:"center",item:!0,xs:12},r.a.createElement(s.a,{color:"inherit",component:O.b,to:"/"},r.a.createElement(o.a,{className:"text__bold--semi"},"Volver al incio")))))},R=t(709),V=Object(m.a)((function(e){return{containerMain:{flexGrow:1},aside:{background:"url(".concat(b.a,") no-repeat"),backgroundSize:"cover",width:"100%"},fondo:{background:e.palette.primary.main+"c7",height:"100%"}}}));function q(){var e=V();return r.a.createElement(c.a,{className:e.fondo},r.a.createElement(l.a,{py:2,color:"primary.contrastText",style:{height:"100%"}},r.a.createElement(i.a,{container:!0,direction:"column",justify:"space-between",style:{height:"100%"}},r.a.createElement(i.a,{item:!0},r.a.createElement("img",{src:f.a,alt:"Logo del instituto",height:60})),r.a.createElement(i.a,{container:!0,spacing:2,item:!0},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(o.a,{align:"center",className:"text__bold--big",variant:"h4"},"BIENVENIDO")),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(o.a,{align:"center",className:"text__bold--big text__opacity--semi",variant:"h6"},"Al iniciar sesi\xf3n usted podr\xe1:",r.a.createElement("br",null),"* Ver noticias privadas",r.a.createElement("br",null),"* Realizar pagos",r.a.createElement("br",null),"* Recibir y enviar tareas",r.a.createElement("br",null),"* Ver boletas",r.a.createElement("br",null),"Y mas..."))),r.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center",item:!0},r.a.createElement(l.a,{display:"inline-block",color:"primary.contrastText",mr:1},r.a.createElement(o.a,{variant:"h6",className:"text__bold--big text__opacity--semi"},"Powered by")),r.a.createElement(s.a,{style:{display:"inherit"},href:"https://github.com/recker112/gedure"},r.a.createElement("img",{src:p.a,alt:"Logo de Gedure",height:20}))))))}a.default=function(){document.title="La Candelaria - Entrar";var e=V();return r.a.createElement(R.a,null,r.a.createElement("main",{className:e.containerMain},r.a.createElement(i.a,{container:!0,style:{height:"100%"}},r.a.createElement(u.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(i.a,{className:e.aside,item:!0,sm:12,md:4},r.a.createElement(q,null))),r.a.createElement(u.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(i.a,{container:!0,alignItems:"center",item:!0,sm:12,md:8},r.a.createElement(c.a,{maxWidth:"sm",className:"container--margin"},r.a.createElement(D,null)))))))}},280:function(e,a,t){"use strict";t.d(a,"c",(function(){return C})),t.d(a,"b",(function(){return A})),t.d(a,"a",(function(){return B})),t.d(a,"d",(function(){return D}));var n=t(31),r=t(53),c=t(0),l=t.n(c),i=t(659),o=t(1176),s=t(655),u=t(656),m=t(698),d=t(657),p=t(653),E=t(427),b=t(220),g=t(1177),f=t(76),h=t(660),v=t(661),y=t(662),O=t(663),x=t(664),j=t(57),k=t(244),_=t(109),N=t(315),w=t.n(N),T=t(308),S=t.n(T),I=t(261),L=Object(_.a)((function(e){return{separer:{marginBottom:e.spacing(2)}}}));function C(e){var a=e.name,t=e.defaultValue,n=e.control,c=e.label,s=Object(r.a)(e,["name","defaultValue","control","label"]);return l.a.createElement(i.a,{control:l.a.createElement(I.a,{render:function(e){var a=e.onChange,t=e.onBlur,n=e.value,r=e.ref;return l.a.createElement(o.a,Object.assign({inputRef:r,onBlur:t,onChange:function(e){return a(e.currentTarget.checked)},checked:n},s))},name:a,defaultValue:t,control:n}),label:c})}function A(e){var a=e.id,t=e.name,n=e.nameLabel,c=e.control,i=e.defaultValue,o=e.errors,p=e.helperText,E=e.customWidth,b=void 0!==E&&E,g=e.children,f=Object(r.a)(e,["id","name","nameLabel","control","defaultValue","errors","helperText","customWidth","children"]);return l.a.createElement(s.a,Object.assign({style:{width:b||"100%"},error:Boolean(o)},f),l.a.createElement(u.a,{id:a+"-label"},n),l.a.createElement(I.a,{as:l.a.createElement(m.a,{labelId:a+"-label",id:a},g),name:t,control:c,defaultValue:i,rules:{required:{value:!0,message:"* Campo requerido"}}}),l.a.createElement(d.a,null,(null===o||void 0===o?void 0:o.message)?null===o||void 0===o?void 0:o.message:p))}function B(e){var a=Object(c.useState)(!1),t=Object(n.a)(a,2),r=t[0],i=t[1];return l.a.createElement(p.a,Object.assign({type:r?"text":"password",fullWidth:!0,InputProps:{endAdornment:l.a.createElement(E.a,{position:"end"},l.a.createElement(b.a,{onClick:function(){i(!r)},size:null===e||void 0===e?void 0:e.size},r?l.a.createElement(S.a,null):l.a.createElement(w.a,null)))}},e))}var D={heading:function(e){var a,t=Object.assign({},e);switch(t.level){case 1:a="h5";break;case 2:a="h6";break;case 3:a="subtitle1";break;case 4:a="subtitle2";break;default:a="h6"}return l.a.createElement(j.a,{gutterBottom:!0,variant:a},t.children)},link:k.a,paragraph:function(e){var a=L();return l.a.createElement(j.a,{className:a.separer},e.children)},table:function(e){var a=L();return l.a.createElement(g.a,{component:f.a,className:a.separer},l.a.createElement(h.a,{size:"small","aria-label":"a dense table"},e.children))},tableHead:function(e){return l.a.createElement(x.a,null,e.children)},tableBody:function(e){return l.a.createElement(O.a,null,e.children)},tableRow:function(e){return l.a.createElement(y.a,null,e.children)},tableCell:function(e){return l.a.createElement(v.a,null,e.children)},listItem:function(e){var a=Object.assign({},e);return l.a.createElement("li",null,l.a.createElement(j.a,{component:"span"},a.children))}}},281:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:a,data:t}}}},347:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(314),l=t(364),i=t(57),o=t(189),s=t(187),u=t(109),m=Object(u.a)((function(e){return{progressLabel:{marginTop:5}}}));a.a=function(e){var a=e.loading,t=e.backDrop,n=void 0!==t&&t,u=e.children,d=function(e){var a=e.color,t=void 0===a?"primary":a,n=e.progressLabel,s=e.progressLoading,u=e.progress,d=m();return s&&u<=99?r.a.createElement(c.a,null,r.a.createElement(c.a,{position:"relative",display:"inline-flex"},r.a.createElement(l.a,{color:t,variant:"determinate",value:u}),r.a.createElement(c.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(i.a,{variant:"caption",component:"div",color:"textSecondary"},u,"%"))),n&&r.a.createElement(o.a,{container:!0,justify:"center"},r.a.createElement("span",{className:d.progressLabel},n))):r.a.createElement(l.a,{color:t})};return a&&!n?r.a.createElement(d,e):a&&n?r.a.createElement(s.a,{open:!0,style:{zIndex:200}},r.a.createElement(d,e)):u}},525:function(e,a,t){e.exports=t.p+"static/media/instituto.dfd9d9ae.jpg"},674:function(e,a,t){"use strict";a.a=function(e){return{type:"AUTH_UPDATE",payload:e}}},675:function(e,a,t){"use strict";a.a=function(e){return{type:"UPDATE_DATA_USER",payload:e}}},709:function(e,a,t){"use strict";var n=t(47),r=t.n(n),c=t(64),l=t(31),i=t(0),o=t.n(i),s=t(13),u=t(101),m=t(120),d=t(14),p=t(674),E=t(675),b=t(78);a.a=function(e){var a=e.children,t=Object(i.useState)(!0),n=Object(l.a)(t,2),g=n[0],f=n[1],h=Object(d.d)((function(e){return{auth:e.userData.auth,tema:e.settings.tema}})),v=h.auth,y=h.tema,O=Object(d.c)(),x=Object(u.a)().fetchData,j=(Object(s.h)().state||{from:{pathname:"/"}}).from;return Object(i.useEffect)((function(){var e=!1,a=function(){var e=Object(c.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:"get",url:"v1/relogin",data:{headers:{Authorization:"Bearer ".concat(a)}},successText:"Login exitoso"},e.next=3,x(t);case 3:n=e.sent,f(!1),n?(n.access_key=a,O(Object(E.a)(n)),O(Object(p.a)(!0))):O(Object(b.a)());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t=JSON.parse(localStorage.getItem("access_key")),n=JSON.parse(sessionStorage.getItem("access_key"));return!v&&g&&"string"===typeof n&&n.length>30?a(n):!v&&g&&"string"===typeof t&&t.length>30?a(t):e||f(!1),function(){e=!0}}),[]),g?o.a.createElement(m.a,{theme:y}):v&&"/"===j.pathname?o.a.createElement(s.a,{to:"/gedure"}):v&&"/"!==j.pathname?o.a.createElement(s.a,{to:j}):a}}}]);
//# sourceMappingURL=23.2930d599.chunk.js.map