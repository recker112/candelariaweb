(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[21],{231:function(e,t,a){"use strict";a.r(t);var n=a(47),r=a.n(n),c=a(63),i=a(31),l=a(40),o=a(0),s=a.n(o),m=a(13),u=a(188),d=a(239),g=a(59),p=a(418),E=a(372),f=a(113),b=a(987),h=a(100),v=a(624),y=a(310),_=a(219),k=a(373),x=a.n(k),C=a(374),w=a.n(C),j=a(121),O=a.n(j),N=a(421),I=a.n(N),R=a(91),P=a.n(R);var V=function(e){var t=e.src,a=e.onClose,n=e.currentImg,r=e.setCurrentImg,c=0===n&&!0,i=n===t.length-1&&!0,l=Object(o.useCallback)((function(){var e=n+1;t[e]&&r(e)}),[n,t,r]),m=Object(o.useCallback)((function(){var e=n-1;t[e]&&r(e)}),[n,t,r]),u=Object(o.useCallback)((function(e){"Escape"===e.key&&a(),["ArrowLeft","d"].includes(e.key)&&document.getElementById("VisorImgReactComponent__left").click(),["ArrowRight","a"].includes(e.key)&&document.getElementById("VisorImgReactComponent__right").click()}),[a]),d=Object(o.useCallback)((function(){!function(e){var t=document.createElement("a");t.href=e;var a=e.split("/");a=a[a.length-1],t.setAttribute("download","".concat(a)),document.body.appendChild(t),t.click()}(t[n])}),[n,t]);return Object(o.useEffect)((function(){return document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}}),[n,u]),document.body.style.overflow="hidden",s.a.createElement("div",{className:"VisorImgReactComponent"},s.a.createElement("div",{className:"VisorImgReactComponent__controlls"},s.a.createElement("span",{onClick:m,className:"VisorImgReactComponent__left",id:"VisorImgReactComponent__left"},c?s.a.createElement(_.a,{"aria-label":"prev img",onClick:m},s.a.createElement(x.a,{style:{fontSize:"40px",opacity:.5,color:"white"}})):s.a.createElement(_.a,{"aria-label":"prev img",onClick:m},s.a.createElement(x.a,{style:{fontSize:"40px",color:"white"}}))),s.a.createElement("span",{onClick:l,className:"VisorImgReactComponent__right",id:"VisorImgReactComponent__right"},i?s.a.createElement(_.a,{"aria-label":"next img",onClick:l},s.a.createElement(w.a,{style:{fontSize:"40px",opacity:.5,color:"white"}})):s.a.createElement(_.a,{"aria-label":"next img",onClick:l},s.a.createElement(w.a,{style:{fontSize:"40px",color:"white"}})))),s.a.createElement("div",{className:"VisorImgReactComponent__visor"},s.a.createElement("div",{className:"VisorImgReactComponent__options"},s.a.createElement("span",{onClick:d,className:"VisorImgReactComponent__download"},s.a.createElement(_.a,{"aria-label":"download img"},s.a.createElement(I.a,{style:{color:"white"}}))),s.a.createElement("span",{onClick:a,className:"VisorImgReactComponent__close"},s.a.createElement(_.a,{"aria-label":"close viwer"},s.a.createElement(O.a,{style:{color:"white"}})))),t.map((function(e,t){return n===t?s.a.createElement(v.a,{alt:"imagen selected",src:e,key:t,placeholder:function(e){e.imageProps;var t=e.ref;return s.a.createElement("div",{ref:t},s.a.createElement(P.a,{type:"bubbles",width:150,height:100}))},actual:function(e){var t=e.imageProps;return s.a.createElement("img",Object.assign({},t,{alt:"imagen selected",className:"imgShow"}))},error:function(){return s.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},s.a.createElement("p",null,"Error al obtener imagen"))}}):s.a.createElement(v.a,{style:{display:"none"},alt:"imagen selected",src:e,key:t,placeholder:function(e){e.imageProps;var t=e.ref;return s.a.createElement("div",{style:{display:"none"},ref:t},s.a.createElement(P.a,{type:"bubbles",width:150,height:100}))},actual:function(e){var t=e.imageProps;return s.a.createElement("img",Object.assign({},t,{alt:"imagen selected",className:"imgShow"}))},error:function(){return s.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)",display:"none"}},s.a.createElement("p",null,"Error al obtener imagen"))}})}))))},S=a(14),T=a(266),L=Object(f.a)((function(e){var t;return{containerMain:(t={flexGrow:1,minHeight:500,paddingBottom:e.spacing(10)},Object(l.a)(t,e.breakpoints.up("xs"),{marginTop:"80px"}),Object(l.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(12)}),t),divider:{margin:"".concat(e.spacing(3),"px 0")}}}));function A(e){var t=e.imgs,a=Object(o.useState)(!1),n=Object(i.a)(a,2),r=n[0],c=n[1],l=Object(o.useState)(0),m=Object(i.a)(l,2),d=m[0],g=m[1],p=t.length-6,E=t.map((function(e,t){return 6===t?s.a.createElement(u.a,{container:!0,justify:"center",item:!0,xs:6,sm:4,md:3,key:t},s.a.createElement("span",{key:t,className:"imagePreview__More",onClick:function(){c(!0),g(6)}},"+",p)):t<6?s.a.createElement(u.a,{container:!0,justify:"center",item:!0,xs:6,sm:4,md:3,key:t},s.a.createElement(v.a,{alt:"imagen".concat(t+1),src:e,className:"imagePreview",width:110,height:100,placeholder:function(e){var a=e.imageProps,n=e.ref;return s.a.createElement(b.a,Object.assign({ref:n,key:t,variant:"rect"},a))},actual:function(e){var a=e.imageProps;return s.a.createElement("img",Object.assign({key:t,alt:"imagen".concat(t+1)},a,{onClick:function(){c(!0),g(t)}}))},error:function(){return s.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},s.a.createElement("p",null,"Error al obtener imagen"))}})):null}));return s.a.createElement(u.a,{container:!0,justify:"center",spacing:2,item:!0,xs:12},E,r&&s.a.createElement(V,{src:t,onClose:function(){document.body.style.overflow="auto",g(0),c(!1)},currentImg:d,setCurrentImg:g}))}function D(e){var t=e.title,a=e.content,n=e.fecha_humano,r=e.user,c=e.url_imgs,i=e.only_users,l=e.created_at,o=e.updated_at,m=Object(S.d)((function(e){return{auth:e.userData.auth,userRedux:e.userData.user}})),E=m.auth,f=m.userRedux,b=L(),h=function(){return s.a.createElement(d.a,null,s.a.createElement(g.a,{className:"text__bold--big",variant:"h4"},t),s.a.createElement(g.a,{className:"text__bold--big text__opacity--semi",variant:"h6"},"Publicado ",n,s.a.createElement(g.a,{className:"text__bold--big",variant:"h6",component:"span",color:"primary"}," - ",r.nombre),l!==o&&s.a.createElement(g.a,{className:"text__opacity--semi",variant:"h6",component:"span"}," (Editado el ",o,")")))},v=function(){return s.a.createElement(g.a,{dangerouslySetInnerHTML:{__html:a},align:"justify"})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,null),s.a.createElement(p.a,{className:b.divider}),s.a.createElement(d.a,null,s.a.createElement(u.a,{container:!0,spacing:2},s.a.createElement(u.a,{item:!0,xs:12},s.a.createElement(v,null))),(null===c||void 0===c?void 0:c.length)&&s.a.createElement(A,{imgs:["plas.png"]}),E&&f.privilegio&&s.a.createElement(u.a,{item:!0,xs:12},s.a.createElement(g.a,{variant:"body2",align:"right",className:"text__opacity--semi"},"Noticia solo para usuarios: ",i?"Si":"No"))))}t.default=function(){var e=Object(m.i)().slug,t=window.axios.CancelToken.source(),a=Object(S.d)((function(e){return{auth:e.userData.auth,loading:e.forms.noticia.loading,data:e.forms.noticia.data}})),n=a.auth,i=a.loading,l=a.data,d=Object(S.c)();document.title=l.title?"La Candelaria - ".concat(l.title):"La Candelaria";var p=Object(h.a)().fetchData,f=L();return Object(o.useEffect)((function(){i&&function(){var a=Object(c.a)(r.a.mark((function a(){var c,i,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n?"v1/posts/auth/".concat(e):"v1/posts/".concat(e),i={url:c,type:"get",messageToFinish:!1,message404:"Noticia no encontrada",data:{cancelToken:t.token}},a.next=4,p(i);case 4:l=a.sent,d(l?Object(T.a)("noticia",!1,l):Object(T.a)("noticia",!1));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()}),[i]),s.a.createElement(s.a.Fragment,null,s.a.createElement("main",{className:f.containerMain},(null===l||void 0===l?void 0:l.slug)&&s.a.createElement(D,l),i&&s.a.createElement(u.a,{container:!0,justify:"center"},s.a.createElement(E.a,null)),!(null===l||void 0===l?void 0:l.slug)&&!i&&s.a.createElement(u.a,{container:!0,justify:"center"},s.a.createElement(g.a,null,"No se pudo encontrar esta noticia."))),!n&&s.a.createElement(y.a,null))}},266:function(e,t,a){"use strict";t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:t,data:a,status:n}}}},310:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(330),i=a(239),l=a(188),o=a(59),s=a(243),m=a(65),u=a.n(m);t.a=function(){return r.a.createElement(c.a,{bgcolor:"primary.main",color:"primary.contrastText",component:"footer",py:4},r.a.createElement(i.a,null,r.a.createElement(l.a,{container:!0,alignItems:"center"},r.a.createElement(l.a,{item:!0,xs:12,sm:!0},r.a.createElement(o.a,null,'\xa9 U.E.P A.P.E.P "La Candelaria" | 2020'),r.a.createElement(o.a,{variant:"body2",className:"text__opacity--semi"},"Desarrollado por Recker")),r.a.createElement(l.a,{container:!0,direction:"column",alignItems:"flex-end",item:!0,xs:12,sm:!0},r.a.createElement(o.a,{variant:"h5",className:"text__opacity--semi text__bold--semi"},"Powered by"),r.a.createElement(s.a,{href:"https://github.com/recker112/gedure"},r.a.createElement("img",{src:u.a,alt:"Logo de gedure",height:"40"}))))))}}}]);
//# sourceMappingURL=21.a12c2a4f.chunk.js.map