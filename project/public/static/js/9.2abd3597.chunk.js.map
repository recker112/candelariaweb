{"version":3,"sources":["components/FooterText.js","actions/updateForms.js","actions/logoutApp.js","hooks/useFetch.js","views/noticias/ComponentNoticia.js","views/noticias/PageNoticias.js"],"names":["FooterText","rest","textAlign","updateForms","form","loading","data","status","type","payload","logoutApp","useFetch","axios","window","dispatch","useDispatch","enqueueSnackbar","useSnackbar","fetchData","prepareData","a","url","otherData","messageToFinish","messageTo422","message422","successText","variant","res","description","isCancel","response","console","log","NoticiaPreview","props","view","user","title","extracto","content","fecha_humano","url_imgs","fecha_humano_modify","slug","auth","useSelector","state","userData","theme","useTheme","Grid","item","xs","sm","md","Card","CardHeader","style","backgroundColor","palette","primary","main","avatar","Tooltip","nombre","arrow","Avatar","aria-label","src","secondary","substring","toUpperCase","action","IconButton","length","subheader","CardContent","Typography","dangerouslySetInnerHTML","__html","align","CardActions","marginLeft","to","Button","color","onClick","NoticiaSkeleton","Skeleton","width","useStyles","makeStyles","containerMain","flexGrow","marginBottom","spacing","breakpoints","up","marginTop","PageNoticias","useState","setView","hasFinish","setHasFinish","setLoading","search","setSearch","setData","error","setError","noData","cancelAxios","CancelToken","source","classes","useForm","register","handleSubmit","useEffect","offset","limit","encodeURI","prepare","cancelToken","token","finish","getNotices","cancel","Fragment","className","ref","document","Container","maxWidth","container","justify","alignItems","Hidden","xsDown","ToggleButtonGroup","value","exclusive","onChange","event","newView","ToggleButton","autoComplete","onSubmit","TextField","inputRef","name","label","size","fullWidth","InputProps","endAdornment","InputAdornment","position","disabled","dataLength","hasMore","next","overflow","scrollThreshold","loader","endMessage","map","datos","i","key","CircularProgress"],"mappings":"kGAAA,6BAgBeA,IAZf,YAAkC,IAATC,EAAQ,oBAChC,OACC,kBAAC,IAAD,iBAASA,EAAT,CAAeC,UAAU,WAAzB,4CAEC,6BAFD,0BAIC,6BAJD,uB,iCCCaC,IAPK,SAACC,EAAMC,GAAyC,IAAhCC,EAA+B,uDAAxB,KAAMC,EAAkB,uDAAT,KACxD,MAAO,CACLC,KAAK,mBACLC,QAAS,CAACL,OAAMC,UAASC,OAAMC,a,gFCKpBG,EANG,WAChB,MAAO,CACLF,KAAM,WCmFKG,IAlFf,WACC,IAAMC,EAAQC,OAAOD,MAEfE,EAAWC,cACTC,EAAoBC,cAApBD,gBA2ER,MAAO,CAAEE,UAzEM,uCAAG,WAAOC,GAAP,uDAAAC,EAAA,6DAEhBC,EASGF,EATHE,IAFgB,EAWbF,EARHb,YAHgB,MAGT,KAHS,IAWba,EAPHG,iBAJgB,MAIJ,KAJI,IAWbH,EANHI,uBALgB,WAWbJ,EALHK,oBANgB,WAWbL,EAJHM,kBAPgB,MAOH,+BAPG,IAWbN,EAHHO,mBARgB,WAWbP,EAFHX,YATgB,MAST,OATS,IAWbW,EADHQ,eAVgB,MAUN,UAVM,oBAcEf,EAAMJ,GAAMa,EAAKf,EAAMgB,GAdzB,cAcVM,EAdU,OAgBZL,GACHP,EAAgBU,GAA4BE,EAAItB,KAAKuB,YAAa,CACjEF,QAASA,IAlBK,kBAsBTC,EAAItB,MAtBK,oCAwBZM,EAAMkB,SAAN,MAxBY,6CA0BN,KAAMC,SA1BA,sBA4BU,KAAMA,SAAvBxB,EA5BO,EA4BPA,OAAQD,EA5BD,EA4BCA,KAED,MAAXC,EA9BW,iBA+BdS,EAAgBV,EAAKuB,YAAa,CACjCF,QAAS,YAhCI,2BAkCO,MAAXpB,EAlCI,iBAmCdS,EAAgB,6BAAoB,CACnCW,QAAS,SAGVb,EAASJ,KAvCK,2BAwCO,MAAXH,EAxCI,iBAyCdS,EAAgB,iDAAwC,CACvDW,QAAS,UA1CI,2BA4CO,MAAXpB,EA5CI,wBA6CViB,GACHR,EAAgBS,EAAY,CAC3BE,QAAS,UA/CG,kBAmDP,OAnDO,QAqDdX,EADqB,MAAXT,EACM,gDAIA,+BAJiD,CAChEoB,QAAS,UAtDI,gCA8DfX,EAAgB,0BAA2B,CAC1CW,QAAS,UA/DK,eAmEhBK,QAAQC,IAAR,MAnEgB,mBAqET,GArES,yDAAH,yD,uaCcT,SAASC,EAAeC,GAAQ,IAErCC,EASGD,EATHC,KACAC,EAQGF,EARHE,KACAC,EAOGH,EAPHG,MACAC,EAMGJ,EANHI,SACAC,EAKGL,EALHK,QACAC,EAIGN,EAJHM,aACAC,EAGGP,EAHHO,SACAC,EAEGR,EAFHQ,oBACAC,EACGT,EADHS,KAGOC,EAASC,aAAY,SAACC,GAAD,MAAY,CACxCF,KAAME,EAAMC,SAASH,SADdA,KAGF/B,EAAWC,cAMjB,IAAMkC,EAAQC,cAgBd,OACC,kBAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAa,WAATlB,EAAoB,EAAI,GAAImB,GAAa,WAATnB,EAAoB,EAAI,IAC9E,kBAACoB,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CACCC,MAAO,CAAEC,gBAAiBV,EAAMW,QAAQC,QAAQC,MAChDC,OACC,kBAACC,EAAA,EAAD,CAAS1B,MAAOD,EAAK4B,OAAQC,OAAK,GACjC,kBAACC,EAAA,EAAD,CACCC,aAAW,WACXC,IAAKhC,EAAK0B,OACVL,MAAO,CAAEC,gBAAiBV,EAAMW,QAAQU,UAAUR,OAEjDzB,EAAK4B,OAAOM,UAAU,EAAG,GAAGC,gBAIhCC,OACC5B,GACC,kBAAC6B,EAAA,EAAD,KACC,kBAAC,IAAD,OAIHpC,MAAOA,EAAMqC,OAAS,IAAe,WAATvC,EAArB,UAA4CE,EAAMiC,UAAU,EAAG,IAA/D,OAA0EjC,EACjFsC,UAAS,oBAAenC,KAEzB,kBAACoC,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAYC,wBA9CR,CAAEC,OAAO,GAAD,OAAKzC,EAAL,QA8CyC0C,MAAM,aAE5D,kBAACC,EAAA,EAAD,KACC,kBAAC,IAAD,CAAMxB,MAAO,CAAEyB,WAAY,QAAUC,GAAE,oBAAexC,IACrD,kBAACyC,EAAA,EAAD,CAAQC,MAAM,YAAYC,QA7CX,WACnB,IAAMpE,EAAc,CACnBkB,OACAC,QACAC,WACAC,UACAC,eACAG,OACAF,WACAC,uBAED7B,EAASX,YAAY,WAAW,EAAOgB,MAkCnC,0BAUC,SAASqE,EAAgBrD,GAAQ,IAC/BC,EAASD,EAATC,KAEAS,EAASC,aAAY,SAACC,GAAD,MAAY,CACxCF,KAAME,EAAMC,SAASH,SADdA,KAIFI,EAAQC,cAEd,OACC,kBAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAa,WAATlB,EAAoB,EAAI,GAAImB,GAAa,WAATnB,EAAoB,EAAI,IAC9E,kBAACoB,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CACCC,MAAO,CAAEC,gBAAiBV,EAAMW,QAAQC,QAAQC,MAChDC,OACC,kBAACC,EAAA,EAAD,CAAS1B,MAAM,UAAU4B,OAAK,GAC7B,kBAACC,EAAA,EAAD,CACCC,aAAW,WACXV,MAAO,CAAEC,gBAAiBV,EAAMW,QAAQU,UAAUR,SAIrDW,OACC5B,GACC,kBAAC6B,EAAA,EAAD,KACC,kBAAC,IAAD,OAIHpC,MAAO,kBAACmD,EAAA,EAAD,CAAU9D,QAAQ,OAAO+D,MAAM,SACtCd,UAAW,kBAACa,EAAA,EAAD,CAAU9D,QAAQ,OAAO+D,MAAM,UAE3C,kBAACb,EAAA,EAAD,KACC,kBAACY,EAAA,EAAD,CAAU9D,QAAQ,OAAO+D,MAAM,SAC/B,kBAACD,EAAA,EAAD,CAAU9D,QAAQ,OAAO+D,MAAM,SAC/B,kBAACD,EAAA,EAAD,CAAU9D,QAAQ,OAAO+D,MAAM,SAC/B,kBAACD,EAAA,EAAD,CAAU9D,QAAQ,OAAO+D,MAAM,YC5GpC,IAAMC,EAAYC,aAAW,SAAC3C,GAAD,YAAY,CACxC4C,eAAa,GACZC,SAAU,EACVC,aAAc9C,EAAM+C,QAAQ,IAFhB,cAGX/C,EAAMgD,YAAYC,GAAG,MAAQ,CAC7BC,UAAW,SAJA,cAMXlD,EAAMgD,YAAYC,GAAG,MAAQ,CAC7BC,UAAWlD,EAAM+C,QAAQ,KAPd,OAqNCI,UAzMf,WAAyB,IAAD,EACCC,mBAAS,UADV,mBAChBjE,EADgB,KACVkE,EADU,OAEWD,oBAAS,GAFpB,mBAEhBE,EAFgB,KAELC,EAFK,OAGOH,oBAAS,GAHhB,mBAGhBhG,EAHgB,KAGPoG,EAHO,OAIKJ,mBAAS,IAJd,mBAIhBK,EAJgB,KAIRC,EAJQ,OAKCN,mBAAS,IALV,mBAKhB/F,EALgB,KAKVsG,EALU,OAMGP,oBAAS,GANZ,mBAMhBQ,EANgB,KAMTC,EANS,KAOjBC,EAAyB,IAAhBzG,EAAKqE,QAAgB4B,EAChCS,EAAcnG,OAAOD,MAAMqG,YAAYC,SAEnCrE,EAASC,aAAY,SAACC,GAAD,MAAY,CACxCF,KAAME,EAAMC,SAASH,SADdA,KAIFsE,GAAUxB,IAdO,GAgBYyB,cAA3BC,GAhBe,GAgBfA,SAAUC,GAhBK,GAgBLA,aAEVpG,GAAcP,cAAdO,UA2DR,OA5CAqG,qBAAU,WA+BLlH,GA9BY,uCAAG,WAAOmH,EAAQC,GAAf,mBAAArG,EAAA,6DAIjBC,EADGwB,EACA,+BAA2B2E,EAA3B,kBAA2CC,EAA3C,mBAA2DC,UAAUhB,IAErE,0BAAsBc,EAAtB,kBAAsCC,EAAtC,mBAAsDC,UAAUhB,IAG9DiB,EAAU,CACftG,IAAKA,EACLb,KAAM,MACNe,iBAAiB,EACjBjB,KAAM,CACLsH,YAAaZ,EAAYa,QAdT,SAkBK3G,GAAUyG,GAlBf,QAkBZ5F,EAlBY,SAqBjB6E,EAAQ,GAAD,mBAAMtG,GAAN,YAAeyB,EAASzB,QAC/BkG,GAAazE,EAASzB,KAAKqE,QAAS5C,EAAS+F,SAE7ChB,GAAS,GAGVL,GAAW,GA3BO,2CAAH,uDAgCfsB,CADezH,EAAKqE,OACD,GAGpB,OAAO,WACFqC,GACHA,EAAYgB,YAIZ,CAAC3H,IAGH,kBAAC,IAAM4H,SAAP,KACC,0BAAMC,UAAWf,GAAQtB,cAAesC,IAAK,WAC3CC,SAAS9F,MAAQ,6BAElB,kBAAC+F,EAAA,EAAD,CAAWC,SAAS,KAAKJ,UAAU,qBAClC,kBAAC/E,EAAA,EAAD,CAAMoF,WAAS,EAACC,QAAQ,SAASxC,QAAS,GACzC,kBAAC7C,EAAA,EAAD,CAAMoF,WAAS,EAACE,WAAW,SAASrF,MAAI,EAACC,GAAI,IAC5C,kBAACF,EAAA,EAAD,CAAMC,MAAI,EAACC,IAAE,GACZ,kBAACqF,EAAA,EAAD,CAAQC,QAAM,GACb,kBAACC,EAAA,EAAD,CAAmBC,MAAOzG,EAAM0G,WAAS,EAACC,SAnE7B,SAACC,EAAOC,GACZ,OAAZA,GACH3C,EAAQ2C,KAkED,kBAACC,EAAA,EAAD,CAAcL,MAAM,OAAOzE,aAAW,QACrC,kBAAC,IAAD,OAED,kBAAC8E,EAAA,EAAD,CAAcL,MAAM,SAASzE,aAAW,UACvC,kBAAC,IAAD,UAKJ,kBAACjB,EAAA,EAAD,CAAMoF,WAAS,EAACC,QAAQ,WAAWpF,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC1D,0BACC4F,aAAa,MACbC,SAAU9B,IA1ED,SAAChH,GACjBsG,EAAQ,IACRJ,GAAa,GACbG,EAAUrG,EAAKoG,QACfD,GAAW,MAuEJ/C,MAAO,CAACgC,MAAO,SAEf,kBAAC2D,EAAA,EAAD,CACCC,SAAUjC,GACVkC,KAAK,SACLC,MAAM,iBACN7H,QAAQ,WACR8H,KAAK,QACLC,WAAS,EACTC,WAAY,CACXC,aACC,kBAACC,EAAA,EAAD,CAAgBC,SAAS,OACxB,kBAACpF,EAAA,EAAD,CACC+E,KAAK,QACLM,SAAU1J,EACVG,KAAK,UAEL,kBAAC,IAAD,cASR,kBAAC2C,EAAA,EAAD,CAAMoF,WAAS,EAACvC,QAAS,EAAGwC,QAAQ,SAASpF,MAAI,EAACC,GAAI,IACpD/C,EAAKqE,OAAS,GACd,kBAACxB,EAAA,EAAD,CAAMoF,WAAS,EAACnF,MAAI,EAACC,GAAI,IACxB,kBAAC,IAAD,CACC2G,WAAY1J,EAAKqE,OACjBsF,SAAU1D,EACV2D,KAAM,WACLzD,GAAW,IAEZ/C,MAAO,CAACyG,SAAU,UAClBjC,UAAU,gFACVkC,gBAAiB,GACjBC,OAAQ,kBAAC7E,EAAD,CAAiBpD,KAAMA,IAC/BkI,WACC,kBAACnH,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACyB,EAAA,EAAD,CAAYG,MAAM,UAAlB,wCAMD3E,EAAKiK,KAAI,SAACC,EAAMC,GAAP,OACT,kBAACvI,EAAD,eAAgBwI,IAAKD,EAAGrI,KAAMA,GAAUoI,UAM1ClK,EAAKqE,SAAW4B,IAAcM,GAC/B,kBAAC1D,EAAA,EAAD,CAAMoF,WAAS,EAACC,QAAQ,SAASpF,MAAI,EAACC,GAAI,IACzC,kBAACsH,EAAA,EAAD,OAID5D,IAAWL,EAAO/B,QAClB,kBAACxB,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACyB,EAAA,EAAD,CAAYG,MAAM,UAAlB,gCAMD8B,GAAUL,EAAO/B,QACjB,kBAAC,IAAMsD,SAAP,KACC,kBAAC9E,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACyB,EAAA,EAAD,CAAYG,MAAM,UAAlB,6CAC4CyB,EAD5C,KAEC,6BAFD,wCASFG,GACA,kBAAC1D,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACyB,EAAA,EAAD,CAAYG,MAAM,UAAlB,wGASJpC,GACD,4BAAQqF,UAAU,UACjB,kBAAClI,EAAA,EAAD","file":"static/js/9.2abd3597.chunk.js","sourcesContent":["import React from 'react';\n\nimport { Box } from '@material-ui/core';\n\nfunction FooterText({ ...rest }) {\n\treturn (\n\t\t<Box {...rest} textAlign='center'>\n\t\t\t&copy; U.E.P A.P.E.P \"La Candelaria\" | 2020\n\t\t\t<br/>\n\t\t\tDesarrollado por Recker\n\t\t\t<br/>\n\t\t\tPowered by Gedure\n\t\t</Box>\n\t)\n}\n\nexport default FooterText;","const updateForms = (form, loading, data = null, status = null) => {\n  return {\n    type: `UPDATE_FORM_DATA`,\n    payload: {form, loading, data, status}\n  }\n}\n\nexport default updateForms;","//Se crea una acciรณn la cual será capturada\n//por el reducer correspondiente.\nconst logoutApp = () => {\n  return {\n    type: \"LOGOUT\"\n  }\n}\n\nexport default logoutApp;","import { useSnackbar } from 'notistack';\n\nimport { useDispatch } from 'react-redux';\nimport logoutApp from '../actions/logoutApp';\n\nfunction useFetch() {\n\tconst axios = window.axios;\n\n\tconst dispatch = useDispatch();\n\tconst { enqueueSnackbar } = useSnackbar();\n\n\tconst fetchData = async (prepareData) => {\n\t\tlet {\n\t\t\turl,\n\t\t\tdata = null,\n\t\t\totherData = null,\n\t\t\tmessageToFinish = true,\n\t\t\tmessageTo422 = false,\n\t\t\tmessage422 = 'Error al verificar los datos',\n\t\t\tsuccessText = false,\n\t\t\ttype = 'post',\n\t\t\tvariant = 'success',\n\t\t} = prepareData;\n\n\t\ttry {\n\t\t\tconst res = await axios[type](url, data, otherData);\n\n\t\t\tif (messageToFinish) {\n\t\t\t\tenqueueSnackbar(successText ? successText : res.data.description, {\n\t\t\t\t\tvariant: variant,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn res.data;\n\t\t} catch (error) {\n\t\t\tif (axios.isCancel(error)) {\n\t\t\t\t//No hacer nada\n\t\t\t}else if (error.response) {\n\t\t\t\t//Errores HTTP\n\t\t\t\tconst { status, data } = error.response;\n\n\t\t\t\tif (status === 400) {\n\t\t\t\t\tenqueueSnackbar(data.description, {\n\t\t\t\t\t\tvariant: 'warning',\n\t\t\t\t\t});\n\t\t\t\t} else if (status === 401) {\n\t\t\t\t\tenqueueSnackbar('Sesiรณn expirada', {\n\t\t\t\t\t\tvariant: 'info',\n\t\t\t\t\t});\n\n\t\t\t\t\tdispatch(logoutApp());\n\t\t\t\t} else if (status === 403) {\n\t\t\t\t\tenqueueSnackbar('No tienes permisos para esta acciรณn', {\n\t\t\t\t\t\tvariant: 'error',\n\t\t\t\t\t});\n\t\t\t\t} else if (status === 422) {\n\t\t\t\t\tif (messageTo422) {\n\t\t\t\t\t\tenqueueSnackbar(message422, {\n\t\t\t\t\t\t\tvariant: 'error',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn '422';\n\t\t\t\t} else if (status === 500) {\n\t\t\t\t\tenqueueSnackbar('No se ha podido conectar con la base de datos', {\n\t\t\t\t\t\tvariant: 'error',\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tenqueueSnackbar('Error interno en el servidor', {\n\t\t\t\t\t\tvariant: 'error',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tenqueueSnackbar('Error interno en la app', {\n\t\t\t\t\tvariant: 'error',\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tconsole.log(error);\n\n\t\t\treturn false;\n\t\t}\n\t};\n\n\treturn { fetchData };\n}\n\nexport default useFetch;","import React from 'react';\n\nimport { Link } from 'react-router-dom';\n\nimport {\n\tTypography,\n\tGrid,\n\tAvatar,\n\tTooltip,\n\tButton,\n\tIconButton,\n\tCard,\n\tCardHeader,\n\tCardContent,\n\tCardActions,\n} from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport { useTheme } from '@material-ui/core/styles';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateForms from '../../actions/updateForms';\n\nexport function NoticiaPreview(props) {\n\tconst {\n\t\tview,\n\t\tuser,\n\t\ttitle,\n\t\textracto,\n\t\tcontent,\n\t\tfecha_humano,\n\t\turl_imgs,\n\t\tfecha_humano_modify,\n\t\tslug,\n\t} = props;\n\n\tconst { auth } = useSelector((state) => ({\n\t\tauth: state.userData.auth,\n\t}));\n\tconst dispatch = useDispatch();\n\n\tfunction createMarkup() {\n\t\treturn { __html: `${extracto}...` };\n\t}\n\n\tconst theme = useTheme();\n\n\tconst handleClick = () => {\n\t\tconst prepareData = {\n\t\t\tuser,\n\t\t\ttitle,\n\t\t\textracto,\n\t\t\tcontent,\n\t\t\tfecha_humano,\n\t\t\tslug,\n\t\t\turl_imgs,\n\t\t\tfecha_humano_modify,\n\t\t};\n\t\tdispatch(updateForms('noticia', false, prepareData));\n\t};\n\n\treturn (\n\t\t<Grid item xs={12} sm={view === 'module' ? 6 : 12} md={view === 'module' ? 4 : 12}>\n\t\t\t<Card>\n\t\t\t\t<CardHeader\n\t\t\t\t\tstyle={{ backgroundColor: theme.palette.primary.main }}\n\t\t\t\t\tavatar={\n\t\t\t\t\t\t<Tooltip title={user.nombre} arrow>\n\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\taria-label=\"skeleton\"\n\t\t\t\t\t\t\t\tsrc={user.avatar}\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: theme.palette.secondary.main }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user.nombre.substring(0, 1).toUpperCase()}\n\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t}\n\t\t\t\t\taction={\n\t\t\t\t\t\tauth && (\n\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t<MoreVertIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\ttitle={title.length > 20 && view === 'module' ? `${title.substring(0, 20)}...` : title}\n\t\t\t\t\tsubheader={`Publicado ${fecha_humano}`}\n\t\t\t\t/>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography dangerouslySetInnerHTML={createMarkup()} align=\"justify\"></Typography>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<Link style={{ marginLeft: 'auto' }} to={`/noticias/${slug}`}>\n\t\t\t\t\t\t<Button color='secondary' onClick={handleClick}>\n\t\t\t\t\t\t\tVer publicación\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t</Grid>\n\t);\n}\n\nexport function NoticiaSkeleton(props) {\n\tconst { view } = props;\n\n\tconst { auth } = useSelector((state) => ({\n\t\tauth: state.userData.auth,\n\t}));\n\n\tconst theme = useTheme();\n\n\treturn (\n\t\t<Grid item xs={12} sm={view === 'module' ? 6 : 12} md={view === 'module' ? 4 : 12}>\n\t\t\t<Card>\n\t\t\t\t<CardHeader\n\t\t\t\t\tstyle={{ backgroundColor: theme.palette.primary.main }}\n\t\t\t\t\tavatar={\n\t\t\t\t\t\t<Tooltip title=\"Usuario\" arrow>\n\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\taria-label=\"skeleton\"\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: theme.palette.secondary.main }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t}\n\t\t\t\t\taction={\n\t\t\t\t\t\tauth && (\n\t\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t\t<MoreVertIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\ttitle={<Skeleton variant=\"text\" width=\"100%\" />}\n\t\t\t\t\tsubheader={<Skeleton variant=\"text\" width=\"70%\" />}\n\t\t\t\t/>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Skeleton variant=\"text\" width=\"100%\" />\n\t\t\t\t\t<Skeleton variant=\"text\" width=\"100%\" />\n\t\t\t\t\t<Skeleton variant=\"text\" width=\"100%\" />\n\t\t\t\t\t<Skeleton variant=\"text\" width=\"100%\" />\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</Grid>\n\t);\n}","import React, { useState, useEffect } from 'react';\n\nimport { \n\tContainer, \n\tTypography, \n\tGrid, \n\tTextField,\n\tHidden,\n\tIconButton,\n\tInputAdornment,\n\tCircularProgress,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport ViewModuleIcon from '@material-ui/icons/ViewModule';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\n\nimport { useForm } from 'react-hook-form';\n\nimport useFetch from '../../hooks/useFetch';\n\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\n// Components\nimport FooterText from '../../components/FooterText';\nimport { NoticiaSkeleton, NoticiaPreview } from './ComponentNoticia';\n\n// Redux\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n\tcontainerMain: {\n\t\tflexGrow: 1,\n\t\tmarginBottom: theme.spacing(8),\n\t\t[theme.breakpoints.up('xs')]: {\n\t\t\tmarginTop: '48px',\n\t\t},\n\t\t[theme.breakpoints.up('sm')]: {\n\t\t\tmarginTop: theme.spacing(8),\n\t\t},\n\t},\n}));\n\nfunction PageNoticias() {\n\tconst [view, setView] = useState('module');\n\tconst [hasFinish, setHasFinish] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst [search, setSearch] = useState('');\n\tconst [data, setData] = useState([]);\n\tconst [error, setError] = useState(false);\n\tconst noData = data.length === 0 && hasFinish;\n\tlet cancelAxios = window.axios.CancelToken.source();\n\t\n\tconst { auth } = useSelector((state) => ({\n\t\tauth: state.userData.auth,\n\t}));\n\t\n\tconst classes = useStyles();\n\t\n\tconst { register, handleSubmit } = useForm();\n\t\n\tconst { fetchData } = useFetch();\n\t\n\tconst handleChange = (event, newView) => {\n\t\tif (newView !== null) {\n\t\t\tsetView(newView);\n\t\t}\n  };\n\t\n\tconst onSubmit = (data) => {\n\t\tsetData([]);\n\t\tsetHasFinish(false);\n\t\tsetSearch(data.search);\n\t\tsetLoading(true);\n  };\n\t\n\tuseEffect(()=>{\n\t\tconst getNotices = async (offset, limit) => {\n\t\t\tlet url;\n\n\t\t\tif (auth) {\n\t\t\t\turl = `v1/posts/auth?offset=${offset}&limit=${limit}&search=${encodeURI(search)}`;\n\t\t\t}else {\n\t\t\t\turl = `v1/posts?offset=${offset}&limit=${limit}&search=${encodeURI(search)}`;\n\t\t\t}\n\n\t\t\tconst prepare = {\n\t\t\t\turl: url,\n\t\t\t\ttype: 'get',\n\t\t\t\tmessageToFinish: false,\n\t\t\t\tdata: {\n\t\t\t\t\tcancelToken: cancelAxios.token,\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst response = await fetchData(prepare);\n\n\t\t\tif (response) {\n\t\t\t\tsetData([ ...data, ...response.data ]);\n\t\t\t\tsetHasFinish(response.data.length ? response.finish : true);\n\t\t\t} else {\n\t\t\t\tsetError(true);\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t};\n\t\t\n\t\tif (loading) {\n\t\t\tconst offset = data.length;\n\t\t\tgetNotices(offset, 6);\n\t\t}\n\t\t\n\t\treturn () => {\n\t\t\tif (cancelAxios) {\n\t\t\t\tcancelAxios.cancel();\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, [loading]);\n\t\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<main className={classes.containerMain} ref={()=>{\n\t\t\t\t\tdocument.title = 'La Candelaria - Noticias';\n\t\t\t\t}}>\n\t\t\t\t<Container maxWidth='md' className='container--margin'>\n\t\t\t\t\t<Grid container justify='center' spacing={2}>\n\t\t\t\t\t\t<Grid container alignItems='center' item xs={12}>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<Hidden xsDown>\n\t\t\t\t\t\t\t\t\t<ToggleButtonGroup value={view} exclusive onChange={handleChange}>\n\t\t\t\t\t\t\t\t\t\t<ToggleButton value=\"list\" aria-label=\"list\">\n\t\t\t\t\t\t\t\t\t\t\t<ViewListIcon />\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t\t<ToggleButton value=\"module\" aria-label=\"module\">\n\t\t\t\t\t\t\t\t\t\t\t<ViewModuleIcon />\n\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid container justify='flex-end' item xs={12} sm={7} md={5}>\n\t\t\t\t\t\t\t\t<form \n\t\t\t\t\t\t\t\t\tautoComplete='off' \n\t\t\t\t\t\t\t\t\tonSubmit={handleSubmit(onSubmit)}\n\t\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\t\t\tinputRef={register}\n\t\t\t\t\t\t\t\t\t\tname='search'\n\t\t\t\t\t\t\t\t\t\tlabel='Buscar noticia'\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small' \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loading} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container spacing={2} justify='center' item xs={12}>\n\t\t\t\t\t\t\t{data.length > 0 && (\n\t\t\t\t\t\t\t\t<Grid container item xs={12}>\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\t\t\t\t\tdataLength={data.length}\n\t\t\t\t\t\t\t\t\t\thasMore={!hasFinish}\n\t\t\t\t\t\t\t\t\t\tnext={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetLoading(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tstyle={{overflow: 'hidden'}}\n\t\t\t\t\t\t\t\t\t\tclassName='MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 MuiGrid-justify-xs-center'\n\t\t\t\t\t\t\t\t\t\tscrollThreshold={0.8}\n\t\t\t\t\t\t\t\t\t\tloader={<NoticiaSkeleton view={view} />}\n\t\t\t\t\t\t\t\t\t\tendMessage={\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo hay más noticias publicadas.\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{data.map((datos,i)=> (\n\t\t\t\t\t\t\t\t\t\t\t<NoticiaPreview key={i} view={view} {...datos} />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{!data.length && !hasFinish && !error && (\n\t\t\t\t\t\t\t\t<Grid container justify='center' item xs={12}>\n\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{noData && !search.length && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t\t\t\tNo hay noticias publicadas.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{noData && search.length && (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t\t\t\t\tNo se ha encontrado nada relacionado con \"{search}\".\n\t\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t\tIntente probar con otras palabras.\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t\t\t\tSe ha producido un error al intentar obtener los datos, intente recargar la pรกgina.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t{!auth && (\n\t\t\t\t<footer className='footer'>\n\t\t\t\t\t<FooterText />\n\t\t\t\t</footer>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nexport default PageNoticias;"],"sourceRoot":""}