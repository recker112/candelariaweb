(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[16],{251:function(e,a,t){"use strict";t.r(a);var n=t(49),r=t.n(n),c=t(445),l=t(63),i=t(64),o=t(38),s=t(0),u=t.n(s),m=t(208),d=t(48),E=t(134),b=t(507),f=t(514),h=t(228),p=t(45),g=t(410),v=t(91),j=t(633),x=t.n(j),y=t(634),O=t.n(y),w=t(368),k=t.n(w),_=t(966),C=t(981),M=t(312),S=t(102),D=t(631),T=t(104),N=t(46),G=t(504),I=t(505),U=t(242),A=t(265),F=t(506),L=t(632),R=t(238),P=t(503),z=t(408),B=t.n(z),J=t(17),W=t(15),H=t(289);function V(e){var a,t,n=e.view,r=e.user,c=e.title,l=e.extracto,i=e.content,o=e.fecha_humano,s=e.url_imgs,m=e.fecha_humano_modify,E=e.slug,b=Object(W.d)((function(e){return{permissions:e.userData.permissions,userData:e.userData.user}})),f=b.permissions,g=b.userData,v=Object(W.c)();var j=Object(J.a)();return u.a.createElement(d.a,{item:!0,xs:12,sm:"module"===n?6:12,md:"module"===n?4:12},u.a.createElement(G.a,null,u.a.createElement(I.a,{style:{backgroundColor:j.palette.primary.main},avatar:u.a.createElement(U.a,{title:r.nombre,arrow:!0},u.a.createElement(A.a,{"aria-label":"skeleton",src:r.avatar,style:{backgroundColor:j.palette.secondary.main}},r.nombre.substring(0,1).toUpperCase())),action:((null===f||void 0===f||null===(a=f.publicaciones)||void 0===a?void 0:a.post_modify)&&(null===g||void 0===g?void 0:g.id)===r.id||(null===f||void 0===f||null===(t=f.publicaciones)||void 0===t?void 0:t.post_modify_otros))&&u.a.createElement(h.a,null,u.a.createElement(B.a,null)),title:c.length>20&&"module"===n?"".concat(c.substring(0,20),"..."):c,subheader:"Publicado ".concat(o)}),u.a.createElement(F.a,null,u.a.createElement(p.a,{dangerouslySetInnerHTML:{__html:"".concat(l,"...")},align:"justify"})),u.a.createElement(L.a,null,u.a.createElement(N.b,{style:{marginLeft:"auto"},to:"/noticias/".concat(E)},u.a.createElement(R.a,{color:"secondary",onClick:function(){var e={user:r,title:c,extracto:l,content:i,fecha_humano:o,slug:E,url_imgs:s,fecha_humano_modify:m};v(Object(H.a)("noticia",!1,e))}},"Ver publicaci\u0e23\u0e13n")))))}function q(e){var a=e.view,t=Object(J.a)();return u.a.createElement(d.a,{item:!0,xs:12,sm:"module"===a?6:12,md:"module"===a?4:12},u.a.createElement(G.a,null,u.a.createElement(I.a,{style:{backgroundColor:t.palette.primary.main},avatar:u.a.createElement(U.a,{title:"Usuario",arrow:!0},u.a.createElement(A.a,{"aria-label":"skeleton",style:{backgroundColor:t.palette.secondary.main}})),title:u.a.createElement(P.a,{variant:"text",width:"100%"}),subheader:u.a.createElement(P.a,{variant:"text",width:"70%"})}),u.a.createElement(F.a,null,u.a.createElement(P.a,{variant:"text",width:"100%"}),u.a.createElement(P.a,{variant:"text",width:"100%"}),u.a.createElement(P.a,{variant:"text",width:"100%"}),u.a.createElement(P.a,{variant:"text",width:"100%"}))))}var K=Object(v.a)((function(e){var a;return{containerMain:(a={flexGrow:1,marginBottom:e.spacing(6)},Object(o.a)(a,e.breakpoints.up("xs"),{marginTop:"48px"}),Object(o.a)(a,e.breakpoints.up("sm"),{marginTop:e.spacing(8)}),a)}}));a.default=function(){var e=Object(s.useState)("module"),a=Object(i.a)(e,2),t=a[0],n=a[1],o=Object(s.useState)(!1),v=Object(i.a)(o,2),j=v[0],y=v[1],w=Object(s.useState)(!0),N=Object(i.a)(w,2),G=N[0],I=N[1],U=Object(s.useState)(""),A=Object(i.a)(U,2),F=A[0],L=A[1],R=Object(s.useState)([]),P=Object(i.a)(R,2),z=P[0],B=P[1],J=Object(s.useState)(!1),H=Object(i.a)(J,2),Q=H[0],X=H[1],Y=0===z.length&&j,Z=window.axios.CancelToken.source(),$=Object(W.d)((function(e){return{auth:e.userData.auth}})).auth,ee=K(),ae=Object(M.a)(),te=ae.register,ne=ae.handleSubmit,re=Object(S.a)().fetchData;return Object(s.useEffect)((function(){G&&function(){var e=Object(l.a)(r.a.mark((function e(a,t){var n,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$?"v1/posts/auth?offset=".concat(a,"&limit=").concat(t,"&search=").concat(encodeURI(F)):"v1/posts?offset=".concat(a,"&limit=").concat(t,"&search=").concat(encodeURI(F)),l={url:n,type:"get",messageToFinish:!1,data:{cancelToken:Z.token}},e.next=4,re(l);case 4:(i=e.sent)?(B([].concat(Object(c.a)(z),Object(c.a)(i.data))),y(!i.data.length||i.finish)):X(!0),I(!1);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()(z.length,8);return function(){Z&&Z.cancel()}}),[G]),u.a.createElement(u.a.Fragment,null,u.a.createElement("main",{className:ee.containerMain,ref:function(){document.title="La Candelaria - Noticias"}},u.a.createElement(m.a,{maxWidth:"md",className:"container--margin"},u.a.createElement(d.a,{container:!0,justify:"center",spacing:2},u.a.createElement(d.a,{container:!0,alignItems:"center",item:!0,xs:12},u.a.createElement(d.a,{item:!0,xs:!0},u.a.createElement(E.a,{xsDown:!0},u.a.createElement(C.a,{value:t,exclusive:!0,onChange:function(e,a){null!==a&&n(a)}},u.a.createElement(_.a,{value:"list","aria-label":"list"},u.a.createElement(x.a,null)),u.a.createElement(_.a,{value:"module","aria-label":"module"},u.a.createElement(O.a,null))))),u.a.createElement(d.a,{container:!0,justify:"flex-end",item:!0,xs:12,sm:7,md:5},u.a.createElement("form",{autoComplete:"off",onSubmit:ne((function(e){B([]),y(!1),L(e.search),I(!0)})),style:{width:"100%"}},u.a.createElement(b.a,{inputRef:te,name:"search",label:"Buscar noticia",variant:"outlined",size:"small",fullWidth:!0,InputProps:{endAdornment:u.a.createElement(f.a,{position:"end"},u.a.createElement(h.a,{size:"small",disabled:G,type:"submit"},u.a.createElement(k.a,null)))}})))),u.a.createElement(d.a,{container:!0,spacing:2,justify:"center",item:!0,xs:12},z.length>0&&u.a.createElement(d.a,{container:!0,item:!0,xs:12},u.a.createElement(D.a,{dataLength:z.length,hasMore:!j,next:function(){I(!0)},style:{overflow:"hidden"},className:"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 MuiGrid-justify-xs-center",scrollThreshold:.8,loader:u.a.createElement(q,{view:t}),endMessage:u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(p.a,{align:"center"},"No hay m\xe1s noticias publicadas."))},z.map((function(e,a){return u.a.createElement(V,Object.assign({key:a,view:t},e))})))),!z.length&&!j&&!Q&&u.a.createElement(d.a,{container:!0,justify:"center",item:!0,xs:12},u.a.createElement(g.a,null)),Y&&!F.length&&u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(p.a,{align:"center"},"No hay noticias publicadas.")),Y&&F.length&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(p.a,{align:"center"},'No se ha encontrado nada relacionado con "',F,'".',u.a.createElement("br",null),"Intente probar con otras palabras."))),Q&&u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(p.a,{align:"center"},"Se ha producido un error al intentar obtener los datos, intente recargar la p\u0e23\u0e01gina.")))))),!$&&u.a.createElement("footer",{className:"footer"},u.a.createElement(T.a,null)))}},289:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:a,data:t,status:n}}}}}]);
//# sourceMappingURL=16.8033b925.chunk.js.map