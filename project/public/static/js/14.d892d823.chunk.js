(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[14],{233:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(239),i=t(330),l=t(188),o=t(59),s=t(243),m=t(144),u=t(113),d=t(65),p=t.n(d),g=t(350),E=t.n(g),b=t(112),f=t.n(b),h=t(47),v=t.n(h),y=t(63),x=t(29),O=t(515),j=t(424),_=t(457),N=t(331),k=t(259),T=t(100),w=t(292),I=t(318),S=t(14),L=t(266),A=t(377),D=t(378),C=Object(u.a)((function(e){return{button:{width:160}}}));var V=function(){var e,a,t=Object(S.d)((function(e){return{loading:e.forms.login.loading}})).loading,c=Object(S.c)(),i=Object(T.a)().fetchData,m=C(),u=Object(k.c)({mode:"onTouched"}),d=u.handleSubmit,p=u.register,g=u.errors,E=Object(n.useCallback)(function(){var e=Object(y.a)(v.a.mark((function e(a){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(L.a)("login",!0)),t={url:"v1/login",data:a,successText:"Login exitoso",messageTo422:!0},e.next=4,i(t);case 4:(n=e.sent)&&(c(Object(D.a)(n)),a.checkbox?(localStorage.setItem("access_key",JSON.stringify(n.access_key)),sessionStorage.setItem("access_key",JSON.stringify(n.access_key))):sessionStorage.setItem("access_key",JSON.stringify(n.access_key)),c(Object(A.a)(!0))),c(Object(L.a)("login",!1));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[c,i]);return r.a.createElement("form",{onSubmit:d(E)},r.a.createElement(l.a,{container:!0,spacing:3},r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(o.a,{className:"text__bold--semi",variant:"h3"},"Ingrese sus datos")),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(O.a,{inputRef:p({required:{value:!0,message:"* Campo requerido"},minLength:{value:3,message:"Error: No v\xe1lido"},maxLength:{value:30,message:"Error: No v\xe1lida"}}),error:Boolean(null===g||void 0===g?void 0:g.user),helperText:(null===g||void 0===g||null===(e=g.user)||void 0===e?void 0:e.message)?g.user.message:"* Campo requerido",name:"username",variant:"outlined",label:"Usuario o c\xe9dula",fullWidth:!0,disabled:t})),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(w.a,{registerInput:p({required:{value:!0,message:"* Campo requerido"},minLength:{value:4,message:"Error: No v\xe1lido"},maxLength:{value:25,message:"Error: No v\xe1lida"}}),name:"password",error:Boolean(null===g||void 0===g?void 0:g.password),helperText:(null===g||void 0===g||null===(a=g.password)||void 0===a?void 0:a.message)?g.password.message:"* Campo requerido",label:"Contrase\xf1a",disabled:t})),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(j.a,{control:r.a.createElement(_.a,{color:"primary",disabled:t,name:"checkbox",inputRef:p}),label:"Mantener abierto"})),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(s.a,{component:x.b,to:"/recuperar"},r.a.createElement(o.a,null,"Recuperar contrase\xf1a"))),r.a.createElement(l.a,{container:!0,justify:"center",item:!0,xs:12},r.a.createElement(I.a,{loading:t},r.a.createElement(N.a,{type:"submit",color:"primary",variant:"contained",className:m.button},"Entrar"))),r.a.createElement(l.a,{container:!0,justify:"center",item:!0,xs:12},r.a.createElement(s.a,{color:"inherit",component:x.b,to:"/"},r.a.createElement(o.a,{className:"text__bold--semi"},"Volver al incio")))))},q=t(428),R=Object(u.a)((function(e){return{containerMain:{flexGrow:1},aside:{background:"url(".concat(E.a,") no-repeat"),backgroundSize:"cover",width:"100%"},fondo:{background:e.palette.primary.main+"c7",height:"100%"}}}));function z(){var e=R();return r.a.createElement(c.a,{className:e.fondo},r.a.createElement(i.a,{py:2,color:"primary.contrastText",style:{height:"100%"}},r.a.createElement(l.a,{container:!0,direction:"column",justify:"space-between",style:{height:"100%"}},r.a.createElement(l.a,{item:!0},r.a.createElement("img",{src:f.a,alt:"Logo del instituto",height:60})),r.a.createElement(l.a,{container:!0,spacing:2,item:!0},r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(o.a,{align:"center",className:"text__bold--big",variant:"h4"},"BIENVENIDO")),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(o.a,{align:"center",className:"text__bold--big text__opacity--semi",variant:"h6"},"Al iniciar sesi\xf3n usted podr\xe1:",r.a.createElement("br",null),"* Ver noticias privadas",r.a.createElement("br",null),"* Realizar pagos",r.a.createElement("br",null),"* Recibir y enviar tareas",r.a.createElement("br",null),"* Ver boletas",r.a.createElement("br",null),"Y mas..."))),r.a.createElement(l.a,{container:!0,justify:"center",alignItems:"center",item:!0},r.a.createElement(i.a,{display:"inline-block",color:"primary.contrastText",mr:1},r.a.createElement(o.a,{variant:"h6",className:"text__bold--big text__opacity--semi"},"Powered by")),r.a.createElement(s.a,{style:{display:"inherit"},href:"https://github.com/recker112/gedure"},r.a.createElement("img",{src:p.a,alt:"Logo de Gedure",height:20}))))))}a.default=function(){document.title="La Candelaria - Entrar";var e=R();return r.a.createElement(q.a,null,r.a.createElement("main",{className:e.containerMain},r.a.createElement(l.a,{container:!0,style:{height:"100%"}},r.a.createElement(m.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(l.a,{className:e.aside,item:!0,sm:12,md:4},r.a.createElement(z,null))),r.a.createElement(m.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(l.a,{container:!0,alignItems:"center",item:!0,sm:12,md:8},r.a.createElement(c.a,{maxWidth:"sm",className:"container--margin"},r.a.createElement(V,null)))))))}},266:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:a,data:t,status:n}}}},292:function(e,a,t){"use strict";t.d(a,"b",(function(){return v})),t.d(a,"a",(function(){return y}));var n=t(31),r=t(54),c=t(0),i=t.n(c),l=t(517),o=t(518),s=t(623),m=t(521),u=t(515),d=t(522),p=t(219),g=t(302),E=t.n(g),b=t(352),f=t.n(b),h=t(259);function v(e){var a=e.id,t=e.name,n=e.nameLabel,c=e.control,u=e.defaultValue,d=e.errors,p=e.helperText,g=e.customWidth,E=void 0!==g&&g,b=e.children,f=Object(r.a)(e,["id","name","nameLabel","control","defaultValue","errors","helperText","customWidth","children"]);return i.a.createElement(l.a,Object.assign({style:{width:E||"100%"},error:Boolean(d)},f),i.a.createElement(o.a,{id:a+"-label"},n),i.a.createElement(h.a,{as:i.a.createElement(s.a,{labelId:a+"-label",id:a},b),name:t,control:c,defaultValue:u,rules:{required:{value:!0,message:"* Campo requerido"}}}),i.a.createElement(m.a,null,(null===d||void 0===d?void 0:d.message)?null===d||void 0===d?void 0:d.message:p))}function y(e){var a=e.name,t=e.registerInput,r=e.error,l=e.defaultValue,o=e.label,s=e.helperText,m=e.variant,g=void 0===m?"outlined":m,b=e.maxWidth,h=void 0!==b&&b,v=e.size,y=void 0===v?"medium":v,x=e.autoFocus,O=void 0!==x&&x,j=e.disabled,_=void 0!==j&&j,N=Object(c.useState)(!1),k=Object(n.a)(N,2),T=k[0],w=k[1];return i.a.createElement(u.a,{inputRef:t,type:T?"text":"password",name:a,defaultValue:l,label:o,size:y,disabled:_,error:Boolean(r),helperText:s,style:{maxWidth:h||"none"},fullWidth:!0,autoFocus:O,variant:g,InputProps:{endAdornment:i.a.createElement(d.a,{position:"end"},i.a.createElement(p.a,{onClick:function(){w(!T)},size:y},T?i.a.createElement(f.a,null):i.a.createElement(E.a,null)))}})}},318:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(188),i=t(372),l=t(186),o=t(113),s=Object(o.a)((function(e){return{progress:{position:"absolute"},progressLabel:{marginTop:5}}}));a.a=function(e){var a=e.loading,t=e.backDrop,n=void 0!==t&&t,o=e.children,m=function(e){var a=e.color,t=void 0===a?"primary":a,n=e.progressLabel,l=e.progressLoading,o=e.progress,m=e.className,u=void 0===m?"":m,d=s();return l&&o<=99?r.a.createElement(c.a,{container:!0,justify:"center",alignItems:"center",className:u},r.a.createElement(c.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(i.a,{color:t,variant:"static",value:o})),r.a.createElement("span",{className:d.progress},o,"%"),n&&r.a.createElement(c.a,{item:!0,xs:!0},r.a.createElement("span",{className:d.progressLabel},n))):r.a.createElement(i.a,{color:t,className:u})};return a&&!n?r.a.createElement(m,e):a&&n?r.a.createElement(l.a,{open:!0,style:{zIndex:200}},r.a.createElement(m,e)):o}},350:function(e,a,t){e.exports=t.p+"static/media/instituto.dfd9d9ae.jpg"},377:function(e,a,t){"use strict";a.a=function(e){return{type:"AUTH_UPDATE",payload:e}}},378:function(e,a,t){"use strict";a.a=function(e){return{type:"UPDATE_DATA_USER",payload:e}}},428:function(e,a,t){"use strict";var n=t(47),r=t.n(n),c=t(63),i=t(31),l=t(0),o=t.n(l),s=t(13),m=t(100),u=t(111),d=t(14),p=t(377),g=t(378),E=t(68);a.a=function(e){var a=e.children,t=Object(l.useState)(!0),n=Object(i.a)(t,2),b=n[0],f=n[1],h=Object(d.d)((function(e){return{auth:e.userData.auth,tema:e.settings.tema}})),v=h.auth,y=h.tema,x=Object(d.c)(),O=Object(m.a)().fetchData,j=(Object(s.h)().state||{from:{pathname:"/"}}).from;return Object(l.useEffect)((function(){var e=!1,a=function(){var e=Object(c.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:"get",url:"v1/relogin",data:{headers:{Authorization:"Bearer ".concat(a)}},successText:"Login exitoso"},e.next=3,O(t);case 3:n=e.sent,f(!1),n?(n.access_key=a,x(Object(g.a)(n)),x(Object(p.a)(!0))):x(Object(E.a)());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t=JSON.parse(localStorage.getItem("access_key")),n=JSON.parse(sessionStorage.getItem("access_key"));return!v&&b&&"string"===typeof n&&n.length>30?a(n):!v&&b&&"string"===typeof t&&t.length>30?a(t):e||f(!1),function(){e=!0}}),[]),b?o.a.createElement(u.a,{theme:y}):v&&"/"===j.pathname?o.a.createElement(s.a,{to:"/panel"}):v&&"/"!==j.pathname?o.a.createElement(s.a,{to:j}):a}}}]);
//# sourceMappingURL=14.d892d823.chunk.js.map