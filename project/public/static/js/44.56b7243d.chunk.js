(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[44],{6080:function(e,a,t){"use strict";t.r(a);var n=t(46),r=t.n(n),c=t(63),l=t(34),i=t(41),o=t(0),s=t.n(o),u=t(11),m=t(6092),d=t(57),p=t(6225),g=t(6040),f=t(6075),E=t(6071),b=t(6331),h=t(6197),v=t(6157),y=t(6178),k=t(108),_=t(6610),j=t.n(_),C=t(6765),O=t.n(C),x=t(99),w=t(6464),N=t(7060),I=t(6757),R=t(6333),V=t.n(R),P=t(6334),T=t.n(P),D=t(6510),A=t.n(D),B=t(6509),S=t.n(B),L=t(90),z=t.n(L);var F=function(e){var a=e.src,t=e.onClose,n=e.currentImg,r=e.setCurrentImg,c=0===n&&!0,l=n===a.length-1&&!0,i=Object(o.useCallback)((function(){var e=n+1;a[e]&&r(e)}),[n,a,r]),u=Object(o.useCallback)((function(){var e=n-1;a[e]&&r(e)}),[n,a,r]),m=Object(o.useCallback)((function(e){"Escape"===e.key&&t(),["ArrowLeft","d"].includes(e.key)&&document.getElementById("VisorImgReactComponent__left").click(),["ArrowRight","a"].includes(e.key)&&document.getElementById("VisorImgReactComponent__right").click()}),[t]),d=Object(o.useCallback)((function(){!function(e){var a=document.createElement("a");a.href=e;var t=e.split("/");t=t[t.length-1],a.setAttribute("download","".concat(t)),document.body.appendChild(a),a.click()}(a[n])}),[n,a]);return Object(o.useEffect)((function(){return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}}),[n,m]),document.body.style.overflow="hidden",s.a.createElement("div",{className:"VisorImgReactComponent"},s.a.createElement("div",{className:"VisorImgReactComponent__controlls"},s.a.createElement("span",{onClick:u,className:"VisorImgReactComponent__left",id:"VisorImgReactComponent__left"},c?s.a.createElement(E.a,{"aria-label":"prev img",onClick:u},s.a.createElement(V.a,{style:{fontSize:"40px",opacity:.5,color:"white"}})):s.a.createElement(E.a,{"aria-label":"prev img",onClick:u},s.a.createElement(V.a,{style:{fontSize:"40px",color:"white"}}))),s.a.createElement("span",{onClick:i,className:"VisorImgReactComponent__right",id:"VisorImgReactComponent__right"},l?s.a.createElement(E.a,{"aria-label":"next img",onClick:i},s.a.createElement(T.a,{style:{fontSize:"40px",opacity:.5,color:"white"}})):s.a.createElement(E.a,{"aria-label":"next img",onClick:i},s.a.createElement(T.a,{style:{fontSize:"40px",color:"white"}})))),s.a.createElement("div",{className:"VisorImgReactComponent__visor"},s.a.createElement("div",{className:"VisorImgReactComponent__options"},s.a.createElement("span",{onClick:d,className:"VisorImgReactComponent__download"},s.a.createElement(E.a,{"aria-label":"download img"},s.a.createElement(S.a,{style:{color:"white"}}))),s.a.createElement("span",{onClick:t,className:"VisorImgReactComponent__close"},s.a.createElement(E.a,{"aria-label":"close viwer"},s.a.createElement(A.a,{style:{color:"white"}})))),a.map((function(e,a){return n===a?s.a.createElement(I.a,{alt:"imagen selected",src:e,key:a,placeholder:function(e){e.imageProps;var a=e.ref;return s.a.createElement("div",{ref:a},s.a.createElement(z.a,{type:"bubbles",width:150,height:100}))},actual:function(e){var a=e.imageProps;return s.a.createElement("img",Object.assign({},a,{alt:"imagen selected",className:"imgShow"}))},error:function(){return s.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},s.a.createElement("p",null,"Error al obtener imagen"))}}):s.a.createElement(I.a,{style:{display:"none"},alt:"imagen selected",src:e,key:a,placeholder:function(e){e.imageProps;var a=e.ref;return s.a.createElement("div",{style:{display:"none"},ref:a},s.a.createElement(z.a,{type:"bubbles",width:150,height:100}))},actual:function(e){var a=e.imageProps;return s.a.createElement("img",Object.assign({},a,{alt:"imagen selected",className:"imgShow"}))},error:function(){return s.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)",display:"none"}},s.a.createElement("p",null,"Error al obtener imagen"))}})}))))};function M(e){var a=e.imgs,t=Object(o.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(o.useState)(0),u=Object(l.a)(i,2),m=u[0],d=u[1],p=a.length-6,f=a.map((function(e,a){return 6===a?s.a.createElement(g.a,{container:!0,justify:"center",item:!0,xs:6,sm:4,md:3,key:a},s.a.createElement("span",{key:a,className:"imagePreview__More",onClick:function(){c(!0),d(6)}},"+",p)):a<6?s.a.createElement(g.a,{container:!0,justify:"center",item:!0,xs:6,sm:4,md:3,key:a},s.a.createElement(I.a,{alt:"imagen".concat(a+1),src:e,className:"imagePreview",width:110,height:100,placeholder:function(e){var t=e.imageProps,n=e.ref;return s.a.createElement(N.a,Object.assign({ref:n,key:a,variant:"rect"},t))},actual:function(e){var t=e.imageProps;return s.a.createElement("img",Object.assign({key:a,alt:"imagen".concat(a+1)},t,{onClick:function(){c(!0),d(a)}}))},error:function(){return s.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},s.a.createElement("p",null,"Error al obtener imagen"))}})):null}));return s.a.createElement(g.a,{container:!0,justify:"center",spacing:2,item:!0,xs:12},f,r&&s.a.createElement(F,{src:a,onClose:function(){document.body.style.overflow="auto",d(0),c(!1)},currentImg:m,setCurrentImg:d}))}var G=t(6355),U=t(6137),W=t(6512),q=t.n(W),J=t(6582),H=t.n(J),K=t(13),Q=t(6123),X=t(6164),Y=Object(k.a)((function(e){var a;return{containerMain:(a={flexGrow:1,paddingBottom:e.spacing(5)},Object(i.a)(a,e.breakpoints.up("xs"),{marginTop:"80px"}),Object(i.a)(a,e.breakpoints.up("sm"),{marginTop:e.spacing(12)}),a),divider:{margin:"".concat(e.spacing(3),"px 0")},portada:{marginBottom:e.spacing(2),objectFit:"cover"},separer:{marginBottom:e.spacing(2)}}}));function Z(e){var a=e.title,t=e.content,n=e.fecha_humano,r=e.fecha_humano_modify,c=e.user,l=e.url_imgs,i=e.url_portada,o=e.only_users,u=e.created_at,f=e.updated_at,E=Object(K.d)((function(e){return{auth:e.userData.auth,userRedux:e.userData.user}})),b=E.auth,h=E.userRedux,v=Y(),y=function(){return s.a.createElement(m.a,null,s.a.createElement(d.a,{className:"text__bold--big",variant:"h4"},a),s.a.createElement(d.a,{className:"text__bold--big text__opacity--semi",variant:"h6"},"Publicado ",n,s.a.createElement(d.a,{className:"text__bold--big",variant:"h6",component:"span",color:"primary"},(null===c||void 0===c?void 0:c.name)&&" - ".concat(c.name)),u!==f&&s.a.createElement(d.a,{className:"text__opacity--semi",variant:"h6",component:"span"}," (Editado ",r,")")))},k=function(){return s.a.createElement(s.a.Fragment,null,i?s.a.createElement("img",{className:v.portada,src:i,alt:"portada de la publicaci\u0e23\u0e13n",width:"100%",height:250}):null,s.a.createElement(q.a,{plugins:[H.a],children:t,renderers:U.d}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(y,null),s.a.createElement(p.a,{className:v.divider}),s.a.createElement(m.a,null,s.a.createElement(g.a,{container:!0,spacing:2},s.a.createElement(g.a,{item:!0,xs:12},s.a.createElement(k,null))),(null===l||void 0===l?void 0:l.length)&&s.a.createElement(M,{imgs:l}),b&&h.privilegio&&s.a.createElement(g.a,{item:!0,xs:12},s.a.createElement(d.a,{variant:"body2",align:"right",className:"text__opacity--semi"},"Noticia solo para usuarios: ",o?"Si":"No"))))}function $(){var e=Object(o.useState)(null),a=Object(l.a)(e,2),t=a[0],n=a[1],i=Object(K.d)((function(e){return{userRedux:e.userData.user,permissions:e.userData.permissions,user:e.forms.noticia.data.user,slug:e.forms.noticia.data.slug,title:e.forms.noticia.data.title,auth:e.userData.auth}})),m=i.userRedux,d=i.permissions,p=i.user,g=i.slug,v=i.title,y=i.auth,k=Object(K.c)(),_=Object(u.g)(),j=Object(x.a)().fetchData,C=function(e){n(null)};if(y&&"A-"===m.privilegio&&((null===p||void 0===p?void 0:p.id)===m.id||d.administrar.posts_others)){var w=d.administrar.posts_edit||d.administrar.posts_destroy,N=function(){var e=Object(c.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"v1/posts/".concat(g),type:"delete",message404:"Esta noticia ya no existe"},e.next=3,j(t);case 3:e.sent&&k(Object(Q.a)("noticia",!0,{})),k(Object(X.a)("deleteConfirmation",!1,!0)),a();case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{title:"Opciones",arrow:!0},s.a.createElement(E.a,{onClick:function(e){n(e.currentTarget)},"aria-label":"opciones"},s.a.createElement(O.a,null))),w&&s.a.createElement(b.a,{id:"menu-options",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:C},d.administrar.posts_edit&&s.a.createElement(h.a,{onClick:function(){_.push("/gedure/publicaciones/editar/"+g)}},"Editar"),d.administrar.posts_destroy&&s.a.createElement(h.a,{onClick:function(){k(Object(X.a)("deleteConfirmation",!0,!1)),C()}},"Eliminar")),s.a.createElement(G.a,{callback:N},"Est\xe1 a punto de eliminar la noticia ",s.a.createElement("strong",null,v),". Esta acci\xf3n una vez realizada no se puede deshacer."))}return s.a.createElement("div",null)}a.default=function(){var e=Object(u.i)().slug,a=window.axios.CancelToken.source(),t=Object(K.d)((function(e){return{auth:e.userData.auth,loading:e.forms.noticia.loading,data:e.forms.noticia.data}})),n=t.auth,l=t.loading,i=t.data,p=Object(K.c)();document.title=i.title?"La Candelaria - ".concat(i.title):"La Candelaria";var b=Object(u.g)(),h=Object(x.a)().fetchData,k=Y();return Object(o.useEffect)((function(){l&&function(){var t=Object(c.a)(r.a.mark((function t(){var c,l,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n?"v1/posts/auth/".concat(e):"v1/posts/".concat(e),l={url:c,type:"get",messageToFinish:!1,messageTo404:!1,data:{cancelToken:a.token}},t.next=4,h(l);case 4:i=t.sent,p(i?Object(Q.a)("noticia",!1,i):Object(Q.a)("noticia",!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[l]),Object(o.useEffect)((function(){return function(){p(Object(Q.a)("noticia",!0,{}))}}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("main",{className:k.containerMain},s.a.createElement(m.a,null,s.a.createElement(v.a,{mb:3},s.a.createElement(g.a,{container:!0,justify:"space-between"},s.a.createElement(f.a,{title:"Volver",arrow:!0},s.a.createElement(E.a,{onClick:function(){b.length>2?b.goBack():b.push("/noticias")},"aria-label":"return"},s.a.createElement(j.a,null))),s.a.createElement($,null)))),(null===i||void 0===i?void 0:i.slug)&&s.a.createElement(Z,i),l&&s.a.createElement(g.a,{container:!0,justify:"center"},s.a.createElement(y.a,null)),!(null===i||void 0===i?void 0:i.slug)&&!l&&s.a.createElement(g.a,{container:!0,justify:"center"},s.a.createElement(d.a,null,"No se pudo encontrar esta noticia."))),!n&&s.a.createElement(w.a,null))}},6123:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:a,data:t}}}},6137:function(e,a,t){"use strict";t.d(a,"c",(function(){return P})),t.d(a,"b",(function(){return T})),t.d(a,"a",(function(){return D})),t.d(a,"d",(function(){return A}));var n=t(34),r=t(53),c=t(0),l=t.n(c),i=t(6316),o=t(7061),s=t(6342),u=t(6343),m=t(6351),d=t(6344),p=t(6340),g=t(6315),f=t(6071),E=t(7062),b=t(76),h=t(6345),v=t(6346),y=t(6347),k=t(6348),_=t(6349),j=t(57),C=t(6096),O=t(108),x=t(6142),w=t.n(x),N=t(6156),I=t.n(N),R=t(6122),V=Object(O.a)((function(e){return{separer:{marginBottom:e.spacing(2)}}}));function P(e){var a=e.name,t=e.defaultValue,n=e.control,c=e.label,s=Object(r.a)(e,["name","defaultValue","control","label"]);return l.a.createElement(i.a,{control:l.a.createElement(R.a,{render:function(e){var a=e.onChange,t=e.onBlur,n=e.value,r=e.ref;return l.a.createElement(o.a,Object.assign({inputRef:r,onBlur:t,onChange:function(e){return a(e.currentTarget.checked)},checked:n},s))},name:a,defaultValue:t,control:n}),label:c})}function T(e){var a=e.id,t=e.name,n=e.nameLabel,c=e.control,i=e.defaultValue,o=e.errors,p=e.helperText,g=e.customWidth,f=void 0!==g&&g,E=e.children,b=Object(r.a)(e,["id","name","nameLabel","control","defaultValue","errors","helperText","customWidth","children"]);return l.a.createElement(s.a,Object.assign({style:{width:f||"100%"},error:Boolean(o)},b),l.a.createElement(u.a,{id:a+"-label"},n),l.a.createElement(R.a,{as:l.a.createElement(m.a,{labelId:a+"-label",id:a},E),name:t,control:c,defaultValue:i,rules:{required:{value:!0,message:"* Campo requerido"}}}),l.a.createElement(d.a,null,(null===o||void 0===o?void 0:o.message)?null===o||void 0===o?void 0:o.message:p))}function D(e){var a=Object(c.useState)(!1),t=Object(n.a)(a,2),r=t[0],i=t[1];return l.a.createElement(p.a,Object.assign({type:r?"text":"password",fullWidth:!0,InputProps:{endAdornment:l.a.createElement(g.a,{position:"end"},l.a.createElement(f.a,{onClick:function(){i(!r)},size:null===e||void 0===e?void 0:e.size},r?l.a.createElement(I.a,null):l.a.createElement(w.a,null)))}},e))}var A={heading:function(e){var a,t=Object.assign({},e);switch(t.level){case 1:a="h5";break;case 2:a="h6";break;case 3:a="subtitle1";break;case 4:a="subtitle2";break;default:a="h6"}return l.a.createElement(j.a,{gutterBottom:!0,variant:a},t.children)},link:function(e){return l.a.createElement(C.a,{target:"_blank",href:e.href},e.children)},paragraph:function(e){var a=V();return l.a.createElement(j.a,{className:a.separer},e.children)},table:function(e){var a=V();return l.a.createElement(E.a,{component:b.a,className:a.separer},l.a.createElement(h.a,{size:"small","aria-label":"a dense table"},e.children))},tableHead:function(e){return l.a.createElement(_.a,null,e.children)},tableBody:function(e){return l.a.createElement(k.a,null,e.children)},tableRow:function(e){return l.a.createElement(y.a,null,e.children)},tableCell:function(e){return l.a.createElement(v.a,null,e.children)},listItem:function(e){var a=Object.assign({},e);return l.a.createElement("li",null,l.a.createElement(j.a,{component:"span"},a.children))}}},6164:function(e,a,t){"use strict";a.a=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_DIALOGS_DATA",payload:{dialog:e,open:a,loading:t,data:n}}}},6219:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(150),l=r.a.forwardRef((function(e,a){return r.a.createElement(c.a,Object.assign({direction:"up",ref:a},e))}));a.a=l},6355:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var n=t(0),r=t.n(n),c=t(6620),l=t(6511),i=t(6621),o=t(6441),s=t(6622),u=t(6200),m=t(6219),d=t(13),p=t(6164);function g(e){var a=e.callback,t=e.children,n=Object(d.d)((function(e){return{open:e.dialogs.deleteConfirmation.open,loading:e.dialogs.deleteConfirmation.loading}})),g=n.open,f=n.loading,E=Object(d.c)(),b=function(){E(Object(p.a)("deleteConfirmation",!1,!1))};return r.a.createElement(c.a,{open:g,TransitionComponent:m.a,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description"},r.a.createElement(l.a,{id:"confirm-dialog-title"},"\xbfSeguro?"),r.a.createElement(i.a,null,r.a.createElement(o.a,{id:"confirm-dialog-description"},t)),r.a.createElement(s.a,null,r.a.createElement(u.a,{disabled:f,onClick:b},"Cancelar"),r.a.createElement(u.a,{disabled:f,onClick:function(){E(Object(p.a)("deleteConfirmation",!0,!0)),a(b)}},"Confirmar")))}},6464:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(6157),l=t(6092),i=t(6040),o=t(57),s=t(6096),u=t(77),m=t.n(u);a.a=function(){return r.a.createElement(c.a,{bgcolor:"primary.main",color:"primary.contrastText",component:"footer",py:3},r.a.createElement(l.a,null,r.a.createElement(i.a,{container:!0,alignItems:"center"},r.a.createElement(i.a,{item:!0,xs:12,sm:!0},r.a.createElement(o.a,null,'\xa9 U.E.P A.P.E.P "La Candelaria" | 2020'),r.a.createElement(o.a,{variant:"body2",className:"text__opacity--semi"},"Desarrollado por Recker")),r.a.createElement(i.a,{container:!0,direction:"column",alignItems:"flex-end",item:!0,xs:12,sm:!0},r.a.createElement(o.a,{variant:"h6",className:"text__opacity--semi text__bold--semi"},"Powered by"),r.a.createElement(s.a,{target:"_blank",href:"https://github.com/recker112/gedure"},r.a.createElement("img",{src:m.a,alt:"Logo de gedure",height:"30",style:{opacity:.99}}))))))}}}]);
//# sourceMappingURL=44.56b7243d.chunk.js.map