(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[9],{200:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(197);a.a=function(e){var a=Object.assign({},e);return r.a.createElement(c.a,Object.assign({},a,{textAlign:"center"}),'\xa9 U.E.P A.P.E.P "La Candelaria" | 2020',r.a.createElement("br",null),"Desarrollado por Recker",r.a.createElement("br",null),"Powered by Gedure")}},203:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:a,data:t,status:n}}}},204:function(e,a,t){"use strict";var n=t(201),r=t.n(n),c=t(202),i=t(70),l=t(33),o=function(){return{type:"LOGOUT"}};a.a=function(){var e=window.axios,a=Object(l.b)(),t=Object(i.b)().enqueueSnackbar;return{fetchData:function(){var n=Object(c.a)(r.a.mark((function n(c){var i,l,s,u,m,d,b,f,p,E,h,v,g,x,j,O,y,k,w,T,C;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=c.url,l=c.data,s=void 0===l?null:l,u=c.otherData,m=void 0===u?null:u,d=c.messageToFinish,b=void 0===d||d,f=c.messageTo422,p=void 0!==f&&f,E=c.message422,h=void 0===E?"Error al verificar los datos":E,v=c.successText,g=void 0!==v&&v,x=c.type,j=void 0===x?"post":x,O=c.variant,y=void 0===O?"success":O,n.prev=1,n.next=4,e[j](i,s,m);case 4:return k=n.sent,b&&t(g||k.data.description,{variant:y}),n.abrupt("return",k.data);case 9:if(n.prev=9,n.t0=n.catch(1),!e.isCancel(n.t0)){n.next=14;break}n.next=38;break;case 14:if(!n.t0.response){n.next=37;break}if(w=n.t0.response,T=w.status,C=w.data,400!==T){n.next=20;break}t(C.description,{variant:"warning"}),n.next=35;break;case 20:if(401!==T){n.next=25;break}t("Sesi\u0e23\u0e13n expirada",{variant:"info"}),a(o()),n.next=35;break;case 25:if(403!==T){n.next=29;break}t("No tienes permisos para esta acci\u0e23\u0e13n",{variant:"error"}),n.next=35;break;case 29:if(422!==T){n.next=34;break}return p&&t(h,{variant:"error"}),n.abrupt("return","422");case 34:t(500===T?"No se ha podido conectar con la base de datos":"Error interno en el servidor",{variant:"error"});case 35:n.next=38;break;case 37:t("Error interno en la app",{variant:"error"});case 38:return console.log(n.t0),n.abrupt("return",!1);case 40:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}}},267:function(e,a,t){"use strict";t.r(a);var n=t(201),r=t.n(n),c=t(213),i=t(202),l=t(67),o=t(50),s=t(0),u=t.n(s),m=t(185),d=t(184),b=t(198),f=t(264),p=t(262),E=t(156),h=t(56),v=t(263),g=t(155),x=t(236),j=t.n(x),O=t(237),y=t.n(O),k=t(238),w=t.n(k),T=t(261),C=t(270),S=t(214),_=t(204),D=t(234),M=t(200),N=t(38),G=t(257),P=t(258),U=t(266),A=t(269),I=t(259),L=t(260),F=t(179),R=t(232),z=t(212),B=t.n(z),J=t(16),W=t(33),q=t(203);function H(e){var a=e.view,t=e.user,n=e.title,r=e.extracto,c=e.content,i=e.fecha_humano,l=e.url_imgs,o=e.fecha_humano_modify,s=e.slug,m=Object(W.c)((function(e){return{auth:e.userData.auth}})).auth,b=Object(W.b)();var f=Object(J.a)();return u.a.createElement(d.a,{item:!0,xs:12,sm:"module"===a?6:12,md:"module"===a?4:12},u.a.createElement(G.a,null,u.a.createElement(P.a,{style:{backgroundColor:f.palette.primary.main},avatar:u.a.createElement(U.a,{title:t.nombre,arrow:!0},u.a.createElement(A.a,{"aria-label":"skeleton",src:t.avatar,style:{backgroundColor:f.palette.secondary.main}},t.nombre.substring(0,1).toUpperCase())),action:m&&u.a.createElement(E.a,null,u.a.createElement(B.a,null)),title:n.length>20&&"module"===a?"".concat(n.substring(0,20),"..."):n,subheader:"Publicado ".concat(i)}),u.a.createElement(I.a,null,u.a.createElement(h.a,{dangerouslySetInnerHTML:{__html:"".concat(r,"...")},align:"justify"})),u.a.createElement(L.a,null,u.a.createElement(N.b,{style:{marginLeft:"auto"},to:"/noticias/".concat(s)},u.a.createElement(F.a,{color:"secondary",onClick:function(){var e={user:t,title:n,extracto:r,content:c,fecha_humano:i,slug:s,url_imgs:l,fecha_humano_modify:o};b(Object(q.a)("noticia",!1,e))}},"Ver publicaci\xf3n")))))}function V(e){var a=e.view,t=Object(W.c)((function(e){return{auth:e.userData.auth}})).auth,n=Object(J.a)();return u.a.createElement(d.a,{item:!0,xs:12,sm:"module"===a?6:12,md:"module"===a?4:12},u.a.createElement(G.a,null,u.a.createElement(P.a,{style:{backgroundColor:n.palette.primary.main},avatar:u.a.createElement(U.a,{title:"Usuario",arrow:!0},u.a.createElement(A.a,{"aria-label":"skeleton",style:{backgroundColor:n.palette.secondary.main}})),action:t&&u.a.createElement(E.a,null,u.a.createElement(B.a,null)),title:u.a.createElement(R.a,{variant:"text",width:"100%"}),subheader:u.a.createElement(R.a,{variant:"text",width:"70%"})}),u.a.createElement(I.a,null,u.a.createElement(R.a,{variant:"text",width:"100%"}),u.a.createElement(R.a,{variant:"text",width:"100%"}),u.a.createElement(R.a,{variant:"text",width:"100%"}),u.a.createElement(R.a,{variant:"text",width:"100%"}))))}var K=Object(g.a)((function(e){var a;return{containerMain:(a={flexGrow:1,marginBottom:e.spacing(8)},Object(o.a)(a,e.breakpoints.up("xs"),{marginTop:"48px"}),Object(o.a)(a,e.breakpoints.up("sm"),{marginTop:e.spacing(8)}),a)}}));a.default=function(){var e=Object(s.useState)("module"),a=Object(l.a)(e,2),t=a[0],n=a[1],o=Object(s.useState)(!1),g=Object(l.a)(o,2),x=g[0],O=g[1],k=Object(s.useState)(!0),N=Object(l.a)(k,2),G=N[0],P=N[1],U=Object(s.useState)(""),A=Object(l.a)(U,2),I=A[0],L=A[1],F=Object(s.useState)([]),R=Object(l.a)(F,2),z=R[0],B=R[1],J=Object(s.useState)(!1),q=Object(l.a)(J,2),Q=q[0],X=q[1],Y=0===z.length&&x,Z=window.axios.CancelToken.source(),$=Object(W.c)((function(e){return{auth:e.userData.auth}})).auth,ee=K(),ae=Object(S.a)(),te=ae.register,ne=ae.handleSubmit,re=Object(_.a)().fetchData;return Object(s.useEffect)((function(){G&&function(){var e=Object(i.a)(r.a.mark((function e(a,t){var n,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$?"v1/posts/auth?offset=".concat(a,"&limit=").concat(t,"&search=").concat(encodeURI(I)):"v1/posts?offset=".concat(a,"&limit=").concat(t,"&search=").concat(encodeURI(I)),i={url:n,type:"get",messageToFinish:!1,data:{cancelToken:Z.token}},e.next=4,re(i);case 4:(l=e.sent)?(B([].concat(Object(c.a)(z),Object(c.a)(l.data))),O(!l.data.length||l.finish)):X(!0),P(!1);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()(z.length,6);return function(){Z&&Z.cancel()}}),[G]),u.a.createElement(u.a.Fragment,null,u.a.createElement("main",{className:ee.containerMain,ref:function(){document.title="La Candelaria - Noticias"}},u.a.createElement(m.a,{maxWidth:"md",className:"container--margin"},u.a.createElement(d.a,{container:!0,justify:"center",spacing:2},u.a.createElement(d.a,{container:!0,alignItems:"center",item:!0,xs:12},u.a.createElement(d.a,{item:!0,xs:!0},u.a.createElement(b.a,{xsDown:!0},u.a.createElement(C.a,{value:t,exclusive:!0,onChange:function(e,a){null!==a&&n(a)}},u.a.createElement(T.a,{value:"list","aria-label":"list"},u.a.createElement(j.a,null)),u.a.createElement(T.a,{value:"module","aria-label":"module"},u.a.createElement(y.a,null))))),u.a.createElement(d.a,{container:!0,justify:"flex-end",item:!0,xs:12,sm:7,md:5},u.a.createElement("form",{autoComplete:"off",onSubmit:ne((function(e){B([]),O(!1),L(e.search),P(!0)})),style:{width:"100%"}},u.a.createElement(f.a,{inputRef:te,name:"search",label:"Buscar noticia",variant:"outlined",size:"small",fullWidth:!0,InputProps:{endAdornment:u.a.createElement(p.a,{position:"end"},u.a.createElement(E.a,{size:"small",disabled:G,type:"submit"},u.a.createElement(w.a,null)))}})))),u.a.createElement(d.a,{container:!0,spacing:2,justify:"center",item:!0,xs:12},z.length>0&&u.a.createElement(d.a,{container:!0,item:!0,xs:12},u.a.createElement(D.a,{dataLength:z.length,hasMore:!x,next:function(){P(!0)},style:{overflow:"hidden"},className:"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 MuiGrid-justify-xs-center",scrollThreshold:.8,loader:u.a.createElement(V,{view:t}),endMessage:u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(h.a,{align:"center"},"No hay m\xe1s noticias publicadas."))},z.map((function(e,a){return u.a.createElement(H,Object.assign({key:a,view:t},e))})))),!z.length&&!x&&!Q&&u.a.createElement(d.a,{container:!0,justify:"center",item:!0,xs:12},u.a.createElement(v.a,null)),Y&&!I.length&&u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(h.a,{align:"center"},"No hay noticias publicadas.")),Y&&I.length&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(h.a,{align:"center"},'No se ha encontrado nada relacionado con "',I,'".',u.a.createElement("br",null),"Intente probar con otras palabras."))),Q&&u.a.createElement(d.a,{item:!0,xs:12},u.a.createElement(h.a,{align:"center"},"Se ha producido un error al intentar obtener los datos, intente recargar la p\u0e23\u0e01gina.")))))),!$&&u.a.createElement("footer",{className:"footer"},u.a.createElement(M.a,null)))}}}]);
//# sourceMappingURL=9.2abd3597.chunk.js.map