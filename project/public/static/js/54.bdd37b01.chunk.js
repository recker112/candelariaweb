(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[54,61],{6119:function(a,e,t){"use strict";var r=t(0),n=t.n(r),o=t(6215),i=t(6193),c=t(57),s=t(6040),l=t(6038),u=t(108),d=Object(u.a)((function(a){return{progressLabel:{marginTop:5}}}));e.a=function(a){var e=a.loading,t=a.backDrop,r=void 0!==t&&t,u=a.children,p=function(a){var e=a.color,t=void 0===e?"primary":e,r=a.progressLabel,l=a.progressLoading,u=a.progress,p=d();return l&&u<=99?n.a.createElement(o.a,null,n.a.createElement(o.a,{position:"relative",display:"inline-flex"},n.a.createElement(i.a,{color:t,variant:"static",value:u}),n.a.createElement(o.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},n.a.createElement(c.a,{variant:"caption",component:"div",color:"textSecondary"},u,"%"))),r&&n.a.createElement(s.a,{container:!0,justify:"center"},n.a.createElement("span",{className:p.progressLabel},r))):n.a.createElement(i.a,{color:t})};return e&&!r?n.a.createElement(p,a):e&&r?n.a.createElement(l.a,{open:!0,style:{zIndex:200}},n.a.createElement(p,a)):u}},6123:function(a,e,t){"use strict";e.a=function(a){return{type:"UPDATE_DATA_USER",payload:a}}},6169:function(a,e,t){"use strict";var r=t(1),n=t(2),o=t(0),i=(t(3),t(4)),c=t(5),s=t(22),l=o.forwardRef((function(a,e){var t=a.absolute,c=void 0!==t&&t,s=a.classes,l=a.className,u=a.component,d=void 0===u?"hr":u,p=a.flexItem,m=void 0!==p&&p,v=a.light,f=void 0!==v&&v,g=a.orientation,b=void 0===g?"horizontal":g,h=a.role,j=void 0===h?"hr"!==d?"separator":void 0:h,E=a.variant,O=void 0===E?"fullWidth":E,y=Object(n.a)(a,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(d,Object(r.a)({className:Object(i.a)(s.root,l,"fullWidth"!==O&&s[O],c&&s.absolute,m&&s.flexItem,f&&s.light,"vertical"===b&&s.vertical),role:j,ref:e},y))}));e.a=Object(c.a)((function(a){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:a.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.d)(a.palette.divider,.08)},middle:{marginLeft:a.spacing(2),marginRight:a.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(l)},6780:function(a,e,t){"use strict";t.r(e),t.d(e,"PerfilAvatarForm",(function(){return x})),t.d(e,"default",(function(){return A}));var r=t(41),n=t(46),o=t.n(n),i=t(63),c=t(34),s=t(0),l=t.n(s),u=t(6040),d=t(57),p=t(6215),m=t(6169),v=t(6102),f=t(6354),g=t(108),b=t(98),h=t(6119),j=t(13),E=t(6120),O=t(6123),y=Object(g.a)((function(a){return{avatar:{backgroundColor:a.palette.secondary.main,color:a.palette.secondary.contrastText,height:a.spacing(10),width:a.spacing(10)}}}));function x(a){var e=a.user,t=a.loading,r=a.progress,n=a.handleChange,o=y();return l.a.createElement(u.a,{container:!0,spacing:2},l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(d.a,{variant:"h6",component:"span",className:"text__bold--semi"},"Avatar del usuario"),l.a.createElement(p.a,{mt:1},l.a.createElement(m.a,null))),l.a.createElement(u.a,{container:!0,alignItems:"center",spacing:2,item:!0,xs:12},l.a.createElement(u.a,{item:!0},l.a.createElement(v.a,{alt:"Avatar User",src:e.avatar,className:o.avatar},e.name.substring(0,1).toUpperCase())),l.a.createElement(u.a,{item:!0},l.a.createElement("input",{id:"update_avatar_user",type:"file",style:{display:"none"},accept:"image/*",name:"avatar",onChange:n,value:""}),l.a.createElement("label",{htmlFor:"update_avatar_user"},l.a.createElement(h.a,{loading:t,progressLoading:!0,progress:r},l.a.createElement(f.a,{variant:"contained",color:"primary",component:"span",disableElevation:!0},"Cambiar avatar")))),l.a.createElement(u.a,{item:!0},l.a.createElement(f.a,{onClick:function(){return n({target:{name:"avatar",files:["delete"]}})},variant:"outlined",disabled:t},"Quitar avatar"))))}function A(a){var e=a.id,t=Object(s.useState)(0),n=Object(c.a)(t,2),u=n[0],d=n[1],m=Object(j.d)((function(a){return{user:a.forms.showUser.data.user,loading:a.forms.updateAvatar.loading,data:a.forms.updateAvatar.data,userData:a.userData.user}})),v=m.user,f=m.loading,g=m.data,h=m.userData,y=Object(j.c)(),A=Object(b.a)().fetchData,C=Object(s.useCallback)((function(a){var e=Math.round(100*a.loaded/a.total);d(e)}),[]);Object(s.useEffect)((function(){var a=function(){var a=Object(i.a)(o.a.mark((function a(){var t,r,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(Object(E.a)("updateAvatar",!0)),t=new FormData,"delete"===g.avatar?t.append("delete_avatar",!0):t.append("avatar",g.avatar),t.append("_method","PUT"),r={url:"v1/user/".concat(e),type:"post",data:t,otherData:{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:C},successText:"Avatar actualizado"},a.next=7,A(r);case 7:(n=a.sent)&&(y(Object(E.a)("showUser",!1,n)),n.user.id===h.id&&y(Object(O.a)({user:n.user}))),y(Object(E.a)("updateAvatar",!1,{})),d(0);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();g.avatar&&a()}),[g.avatar]);return l.a.createElement(p.a,{mb:4},l.a.createElement(x,{user:v,handleChange:function(a){y(Object(E.a)("updateAvatar",!1,Object(r.a)({},a.target.name,a.target.files[0])))},progress:u,loading:f}))}},7080:function(a,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return g}));var r=t(41),n=t(46),o=t.n(n),i=t(63),c=t(34),s=t(0),l=t.n(s),u=t(6215),d=t(6780),p=t(98),m=t(13),v=t(6120),f=t(6123);function g(){var a,e=Object(s.useState)(0),t=Object(c.a)(e,2),n=t[0],g=t[1],b=Object(m.d)((function(a){return{loading:a.forms.updateAvatar.loading,data:a.forms.updateAvatar.data,user:a.userData.user,permissions:a.userData.permissions}})),h=b.user,j=b.loading,E=b.data,O=b.permissions,y=Object(m.c)(),x=Object(p.a)().fetchData,A=Object(s.useCallback)((function(a){var e=Math.round(100*a.loaded/a.total);g(e)}),[]);Object(s.useEffect)((function(){var a=function(){var a=Object(i.a)(o.a.mark((function a(){var e,t,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(Object(v.a)("updateAvatar",!0)),e=new FormData,"delete"===E.avatar?e.append("delete_avatar",!0):e.append("avatar",E.avatar),e.append("_method","PUT"),t={url:"v1/user",type:"post",data:e,otherData:{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:A},successText:"Avatar actualizado"},a.next=7,x(t);case 7:(r=a.sent)&&y(Object(f.a)({user:r.user})),y(Object(v.a)("updateAvatar",!1,{})),g(0);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();E.avatar&&a()}),[E.avatar]);return"V-"!==h.privilegio||(null===O||void 0===O||null===(a=O.sin_asignar)||void 0===a?void 0:a.change_avatar)?l.a.createElement(u.a,{mb:4},l.a.createElement(d.PerfilAvatarForm,{user:h,handleChange:function(a){y(Object(v.a)("updateAvatar",!1,Object(r.a)({},a.target.name,a.target.files[0])))},progress:n,loading:j})):null}}}]);
//# sourceMappingURL=54.bdd37b01.chunk.js.map