(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[23],{1159:function(e,t,a){"use strict";a.r(t);var n=a(47),r=a.n(n),i=a(64),o=a(40),c=a(0),l=a.n(c),s=a(13),u=a(239),d=a(309),f=a(188),b=a(342),m=a(109),p=a(102),g=a(434),O=a.n(g),j=a(322),E=a.n(j),v=a(411),h=a.n(v),w=a(544),R=a.n(w),C=a(538),y=a(14),x=a(314);function P(e){var t=e.tableRef,a=Object(y.d)((function(e){return{permissions:e.userData.permissions}})).permissions,n=Object(y.c)(),o=Object(s.g)(),u=Object(p.a)().fetchData,d=Object(c.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"v1/table-posts?page=".concat(t.page,"&per_page=").concat(t.pageSize,"&search=").concat(encodeURI(t.search)),type:"get",messageToFinish:!1},e.next=3,u(a);case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",{data:n.data||[],page:n.page||0,totalCount:n.totalPosts||0});case 8:return e.abrupt("return",{data:[],page:0,totalCount:0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return l.a.createElement(O.a,{tableRef:t,title:"Lista de noticias",icons:C.a,columns:[{title:"T\xedtulo",field:"title"},{title:"Due\xf1o",field:"user",render:function(e){var t,a;return(null===(t=e.user)||void 0===t?void 0:t.privilegio)+(null===(a=e.user)||void 0===a?void 0:a.username)||"Ninguno"}},{title:"Fecha de publicaci\xf3n",field:"created_at"}],data:d,localization:C.b,actions:[{icon:function(){return l.a.createElement(E.a,{"data-tour":"show__noticia"})},tooltip:"Ver",onClick:function(e,t){o.push("/noticias/"+t.slug)}},{icon:function(){return l.a.createElement(h.a,{"data-tour":"edit__noticia"})},tooltip:"Editar",onClick:function(e,t){},disabled:!a.administrar.posts_edit},{icon:function(){return l.a.createElement(R.a,{"data-tour":"delete__noticia"})},tooltip:"Eliminar",onClick:function(e,t){var a={slug:t.slug,title:t.title};n(Object(x.a)("deleteConfirmation",!0,!1,a))},disabled:!a.administrar.posts_destroy}],options:{actionsColumnIndex:-1}})}var k=a(606);a.d(t,"default",(function(){return T}));var S=Object(m.a)((function(e){var t;return{containerMain:(t={flexGrow:1,paddingBottom:e.spacing(10)},Object(o.a)(t,e.breakpoints.up("xs"),{marginTop:"80px"}),Object(o.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(12)}),t)}}));function T(){document.title="La Candelaria - Publicaciones";var e=Object(c.useRef)(null),t=Object(y.d)((function(e){return{data:e.dialogs.deleteConfirmation.data}})).data,a=Object(y.c)(),n=Object(p.a)().fetchData,o=Object(s.g)(),m=S(),g=function(){var o=Object(i.a)(r.a.mark((function i(o){var c,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={url:"v1/posts/".concat(t.slug),type:"delete",message404:"Esta noticia ya no existe"},r.next=3,n(c);case 3:l=r.sent,a(Object(x.a)("deleteConfirmation",!1,!0)),l&&e.current&&e.current.onQueryChange(),o();case 7:case"end":return r.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}();return l.a.createElement("main",{className:m.containerMain},l.a.createElement(u.a,null,l.a.createElement(d.a,{fontSize:"h4.fontSize",mb:3,className:"text__bold--big"},"Publicaciones"),l.a.createElement(f.a,{container:!0,spacing:2},l.a.createElement(f.a,{container:!0,justify:"flex-end",item:!0,xs:12},l.a.createElement(b.a,{onClick:function(){o.push("/gedure/publicaciones/crear")},variant:"contained",color:"primary"},"Crear")),l.a.createElement(f.a,{item:!0,xs:12},l.a.createElement(P,{tableRef:e}),l.a.createElement(k.a,{callback:g},"Est\xe1 a punto de eliminar la noticia ",l.a.createElement("strong",null,t.title),". Esta acci\xf3n una vez realizada no se puede deshacer.")))))}},314:function(e,t,a){"use strict";t.a=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_DIALOGS_DATA",payload:{dialog:e,open:t,loading:a,data:n}}}},379:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(144),o=r.a.forwardRef((function(e,t){return r.a.createElement(i.a,Object.assign({direction:"up",ref:t},e))}));t.a=o},394:function(e,t,a){"use strict";var n=a(1),r=a(2),i=a(0),o=(a(3),a(4)),c=a(57),l=a(5),s=a(393),u=i.forwardRef((function(e,t){var a=e.children,l=e.classes,u=e.className,d=e.component,f=void 0===d?"div":d,b=e.disablePointerEvents,m=void 0!==b&&b,p=e.disableTypography,g=void 0!==p&&p,O=e.position,j=e.variant,E=Object(r.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),v=Object(s.b)()||{},h=j;return j&&v.variant,v&&!h&&(h=v.variant),i.createElement(s.a.Provider,{value:null},i.createElement(f,Object(n.a)({className:Object(o.a)(l.root,u,m&&l.disablePointerEvents,v.hiddenLabel&&l.hiddenLabel,"filled"===h&&l.filled,{start:l.positionStart,end:l.positionEnd}[O],"dense"===v.margin&&l.marginDense),ref:t},E),"string"!==typeof a||g?a:i.createElement(c.a,{color:"textSecondary"},a)))}));t.a=Object(l.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(u)},538:function(e,t,a){"use strict";a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return A}));var n=a(0),r=a.n(n),i=a(576),o=a.n(i),c=a(583),l=a.n(c),s=a(577),u=a.n(s),d=a(427),f=a.n(d),b=a(428),m=a.n(b),p=a(578),g=a.n(p),O=a(579),j=a.n(O),E=a(411),v=a.n(E),h=a(435),w=a.n(h),R=a(581),C=a.n(R),y=a(582),x=a.n(y),P=a(584),k=a.n(P),S=a(580),T=a.n(S),_=a(378),D=a.n(_),z=a(585),L=a.n(z),N={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(j.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(m.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(f.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(l.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))}))},A={body:{emptyDataSourceMessage:"No hay registros"},header:{actions:"Opciones"},toolbar:{searchPlaceholder:"Buscar",searchTooltip:"Buscar"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas"}}},544:function(e,t,a){"use strict";var n=a(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(21)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=i},606:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),i=a(1169),o=a(607),c=a(1170),l=a(786),s=a(1171),u=a(342),d=a(379),f=a(14),b=a(314);function m(e){var t=e.callback,a=e.children,n=Object(f.d)((function(e){return{open:e.dialogs.deleteConfirmation.open,loading:e.dialogs.deleteConfirmation.loading}})),m=n.open,p=n.loading,g=Object(f.c)(),O=function(){g(Object(b.a)("deleteConfirmation",!1,!1))};return r.a.createElement(i.a,{open:m,TransitionComponent:d.a,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description"},r.a.createElement(o.a,{id:"confirm-dialog-title"},"\xbfSeguro?"),r.a.createElement(c.a,null,r.a.createElement(l.a,{id:"confirm-dialog-description"},a)),r.a.createElement(s.a,null,r.a.createElement(u.a,{disabled:p,onClick:O},"Cancelar"),r.a.createElement(u.a,{disabled:p,onClick:function(){g(Object(b.a)("deleteConfirmation",!0,!0)),t(O)}},"Realizar")))}}}]);
//# sourceMappingURL=23.bd244814.chunk.js.map