{"version":3,"sources":["gedure/boletas_admin/show/Boleta.js","gedure/boletas_admin/show/ReplaceBoleta.js","gedure/boletas_admin/show/PageShowBoletas.js","components/LoadingComponent.js","actions/updateForms.js","actions/updateDialogs.js","components/AnimationDialog.js","components/DialogConfirmation.js","components/funciones/converterCursoCode.js","components/funciones/downloadFiles.js"],"names":["Boleta","props","max","id","lapso","fecha_humano","fecha_humano_modify","curso_boleta","created_at","updated_at","handleRefresh","permissions","useSelector","state","userData","dispatch","useDispatch","fetchData","useFetch","listColors","useState","length","Math","floor","random","onDownload","a","prepare","url","type","messageToFinish","data","responseType","response","downloadFiles","curso","seccion","Grid","item","xs","sm","md","Paper","elevation","className","Box","display","mr","component","style","fontSize","color","fontWeight","converterCursoCode","align","Tooltip","title","arrow","IconButton","onClick","updateDialogs","disabled","administrar","boletas_destroy","boletas_edit","ReplaceBoleta","name","progress","setProgress","open","dialogs","replaceBoleta","loading","useForm","handleSubmit","register","errors","handleClose","onUploadProgress","useCallback","progressEvent","percentCompleted","round","loaded","total","onSubmit","submitData","formData","FormData","append","boleta","otherData","headers","Dialog","onClose","TransitionComponent","AnimationDialog","DialogTitle","DialogContent","container","spacing","DialogContentText","alignItems","ref","required","value","message","defaultValue","accept","htmlFor","Button","variant","Boolean","ml","Typography","DialogActions","LoadingComponent","progressLoading","useStyles","makeStyles","theme","containerMain","flexGrow","paddingBottom","breakpoints","up","marginTop","PageShowBoletas","document","useParams","setName","forms","showBoletas","dataDelete","deleteConfirmation","classes","getBoletas","updateForms","boletas","user","useEffect","onConfirm","message404","Container","CircularProgress","Fragment","mb","map","key","DialogConfirmation","callback","progressLabel","backDrop","children","SelectProgressBar","position","top","left","bottom","right","justifyContent","justify","zIndex","form","payload","dialog","React","forwardRef","direction","aria-labelledby","aria-describedby","conveterCursorCode","code","grado","substring","number","blob","fileName","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click"],"mappings":"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","file":"static/js/46.389087f5.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nimport {\n\tBox,\n\tGrid,\n\tPaper,\n\tIconButton,\n\tTooltip,\n} from '@material-ui/core';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport {\n\tFileReplaceOutline as FileReplace,\n\tFilePdf as FilePdfIcon,\n} from 'mdi-material-ui';\n\nimport useFetch from '../../../hooks/useFetch';\n\n// Components\nimport converterCursoCode from '../../../components/funciones/converterCursoCode';\nimport downloadFiles from '../../../components/funciones/downloadFiles';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateDialogs from '../../../actions/updateDialogs';\n\nfunction getRandomInt(max) {\n\treturn Math.floor(Math.random() * Math.floor(max));\n}\n\nexport default function Boleta(props) {\n\tconst { \n\t\tid, \n\t\tlapso, \n\t\tfecha_humano, \n\t\tfecha_humano_modify,\n\t\tcurso_boleta,\n\t\tcreated_at,\n\t\tupdated_at,\n\t\thandleRefresh,\n\t} = props;\n\t\n\tconst { permissions } = useSelector((state) => ({\n\t\tpermissions: state.userData.permissions,\n\t}));\n\tconst dispatch = useDispatch();\n\t\n\tconst { fetchData } = useFetch();\n\t\n\tconst listColors = [\n\t\t'#2f80ED',\n\t\t'#0F3F6A',\n\t\t'#219653',\n\t\t'#f2994A',\n\t\t'#9B51E0',\n\t\t'#EB5757',\n\t\t'#333333',\n\t];\n\t\n\tconst [random] = useState(getRandomInt(listColors.length -1));\n\t\n\tconst onDownload = async () => {\n\t\tconst prepare = {\n\t\t\turl: `v1/download/boleta/${id}`,\n\t\t\ttype: 'get',\n\t\t\tmessageToFinish: false,\n\t\t\tdata: {\n\t\t\t\tresponseType: 'blob',\n\t\t\t}\n\t\t};\n\n\t\tconst response = await fetchData(prepare);\n\n\t\tif (response) {\n\t\t\tdownloadFiles(response, `Boleta_${curso_boleta.curso}_${curso_boleta.seccion}_${lapso}_lapso.pdf`);\n\t\t}else {\n\t\t\thandleRefresh();\n\t\t}\n\t}\n\t\n\tconst onReplace = () => {\n\t\tconst data = {\n\t\t\tid,\n\t\t\tlapso,\n\t\t\tcurso: converterCursoCode(curso_boleta.curso),\n\t\t\tseccion: curso_boleta.seccion,\n\t\t}\n\t\tdispatch(updateDialogs('replaceBoleta', true, false, data));\n\t}\n\t\n\tconst onDelete = () => {\n\t\tconst data = {\n\t\t\tid,\n\t\t\tlapso,\n\t\t\tcurso: converterCursoCode(curso_boleta.curso),\n\t\t\tseccion: curso_boleta.seccion,\n\t\t}\n\t\tdispatch(updateDialogs('deleteConfirmation', true, false, data));\n\t}\n\t\n\treturn(\n\t\t<Grid item xs={12} sm={6} md={4}>\n\t\t\t<Paper elevation={0} className='paper--padding'>\n\t\t\t\t<Box display='flex'>\n\t\t\t\t\t<Box mr={1} component='span'>\n\t\t\t\t\t\t<FilePdfIcon style={{fontSize: 60, color: listColors[random]}}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box \n\t\t\t\t\t\tcomponent='span' \n\t\t\t\t\t\tstyle={{color: listColors[random]}} \n\t\t\t\t\t\tfontSize='h6.fontSize' \n\t\t\t\t\t\tfontWeight={600}\n\t\t\t\t\t>\n\t\t\t\t\t\t{converterCursoCode(curso_boleta.curso)} {curso_boleta.seccion} - {lapso}° Lapso\n\t\t\t\t\t\t<Box \n\t\t\t\t\t\t\tfontSize='body1.fontSize'\n\t\t\t\t\t\t\tcolor='text.disabled'\n\t\t\t\t\t\t\tfontWeight={600}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(created_at === updated_at) ? `Subido ${fecha_humano}` : `Modificado ${fecha_humano_modify}`}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box align='right'>\n\t\t\t\t\t<Tooltip title=\"Eliminar\" arrow>\n\t\t\t\t\t\t<IconButton \n\t\t\t\t\t\t\tonClick={onDelete} \n\t\t\t\t\t\t\tcomponent='span'\n\t\t\t\t\t\t\tdisabled={!permissions?.administrar?.boletas_destroy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title=\"Reemplazar\" arrow>\n\t\t\t\t\t\t<IconButton \n\t\t\t\t\t\t\tonClick={onReplace} \n\t\t\t\t\t\t\tcomponent='span' \n\t\t\t\t\t\t\tdisabled={!permissions?.administrar?.boletas_edit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FileReplace />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title=\"Descargar\" arrow>\n\t\t\t\t\t\t<IconButton onClick={onDownload} component='span'>\n\t\t\t\t\t\t\t<GetAppIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t</Grid>\n\t);\n}","import React, { useState, useCallback } from 'react';\n\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tGrid,\n\tButton,\n\tBox,\n\tTypography,\n} from '@material-ui/core';\n\nimport useFetch from '../../../hooks/useFetch';\n\nimport { useForm } from \"react-hook-form\";\n\n// Components\nimport AnimationDialog from '../../../components/AnimationDialog';\nimport LoadingComponent from '../../../components/LoadingComponent';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateDialogs from '../../../actions/updateDialogs';\n\nexport default function ReplaceBoleta({ handleRefresh, name }) {\n\tconst [progress, setProgress] = useState(0);\n\tconst { open, loading, data } = useSelector((state) => ({\n\t\topen: state.dialogs.replaceBoleta.open,\n\t\tloading: state.dialogs.replaceBoleta.loading,\n\t\tdata: state.dialogs.replaceBoleta.data,\n\t}));\n\tconst dispatch = useDispatch();\n\t\n\tconst { handleSubmit, register, errors } = useForm();\n\tconst { fetchData } = useFetch();\n\t\n\tconst handleClose = () => {\n\t\tif (!loading) {\n\t\t\tdispatch(updateDialogs('replaceBoleta', false, false));\n\t\t}\n\t}\n\t\n\tconst onUploadProgress = useCallback((progressEvent) => {\n\t\tlet percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n\t\tsetProgress(percentCompleted);\n\t\t// eslint-disable-next-line\n\t}, []);\n\t\n\tconst onSubmit = async submitData => {\n\t\tdispatch(updateDialogs('replaceBoleta', true, true));\n\t\t\n\t\tconst formData = new FormData();\n\t\tformData.append('boleta', submitData.boleta[0]);\n\t\tformData.append('_method', 'PUT');\n\t\t\n\t\tconst prepare = {\n\t\t\turl: `v1/boleta/${data.id}`,\n\t\t\ttype: 'post',\n\t\t\tdata: formData,\n\t\t\totherData: {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t},\n\t\t\t\tonUploadProgress: onUploadProgress,\n\t\t\t}\n\t\t};\n\n\t\tconst response = await fetchData(prepare);\n\t\t\n\t\tif (response) {\n\t\t\tdispatch(updateDialogs('replaceBoleta', false, false));\n\t\t\thandleRefresh();\n\t\t}else {\n\t\t\tdispatch(updateDialogs('replaceBoleta', true, false));\n\t\t}\n\t\t\n\t\tsetProgress(0);\n\t}\n\t\n\treturn (\n\t\t<Dialog open={open} onClose={handleClose} TransitionComponent={AnimationDialog}>\n\t\t\t<DialogTitle>¿Seguro?</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<DialogContentText>Estáก a punto de reemplazar la boleta <strong>{data.curso} {data.seccion} {data.lapso}° Lapso</strong> de <strong>{name}</strong>. Tenga en cuenta que al reemplazar la boleta se borrará la anterior.</DialogContentText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container alignItems='center' item xs={12}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid='boleta-upload-file'\n\t\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\t\trequired: { value: true, message: '* Debe subir un archivo' },\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tdefaultValue={null}\n\t\t\t\t\t\t\tstyle={{display: 'none'}}\n\t\t\t\t\t\t\taccept=\"application/pdf\"\n\t\t\t\t\t\t\tname='boleta'\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"boleta-upload-file\">\n\t\t\t\t\t\t\t<Button variant='contained' color='secondary' component='span'>Cargar archivo</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t{Boolean(errors.boleta) && (\n\t\t\t\t\t\t\t<Box ml={2} color='#f44336'>\n\t\t\t\t\t\t\t\t<Typography >{errors.boleta.message}</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} disabled={loading}>Cancelar</Button>\n\t\t\t\t<LoadingComponent \n\t\t\t\t\tloading={loading}\n\t\t\t\t\tprogressLoading \n\t\t\t\t\tprogress={progress}\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t>\n\t\t\t\t\t<Button onClick={handleSubmit(onSubmit)}>Cambiar</Button>\n\t\t\t\t</LoadingComponent>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}","import React, { useEffect, useState } from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport {\n\tContainer,\n\tBox,\n\tCircularProgress,\n\tGrid,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport useFetch from '../../../hooks/useFetch';\n\n// Components\nimport Boleta from './Boleta';\nimport DialogConfirmation from '../../../components/DialogConfirmation';\nimport ReplaceBoleta from './ReplaceBoleta';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateForms from '../../../actions/updateForms';\nimport updateDialogs from '../../../actions/updateDialogs';\n\nconst useStyles = makeStyles((theme) => ({\n\tcontainerMain: {\n\t\tflexGrow: 1,\n\t\tpaddingBottom: theme.spacing(5),\n\t\t[theme.breakpoints.up('xs')]: {\n\t\t\tmarginTop: '80px',\n\t\t},\n\t\t[theme.breakpoints.up('sm')]: {\n\t\t\tmarginTop: theme.spacing(12),\n\t\t},\n\t},\n}));\n\nexport default function PageShowBoletas() {\n\tdocument.title = 'La Candelaria - Boletas';\n\tconst { id } = useParams();\n\tconst [name, setName] = useState('');\n\t\n\tconst { loading, data, dataDelete } = useSelector((state) => ({\n\t\tloading: state.forms.showBoletas.loading,\n\t\tdata: state.forms.showBoletas.data,\n\t\tdataDelete: state.dialogs.deleteConfirmation.data,\n\t}));\n\tconst dispatch = useDispatch();\n\t\n\tconst classes = useStyles();\n\t\n\tconst { fetchData } = useFetch();\n\t\n\tconst getBoletas = async () => {\n\t\tdispatch(updateForms('showBoletas', true));\n\n\t\tconst prepare = {\n\t\t\turl: `v1/boleta/${id}`,\n\t\t\ttype: 'get',\n\t\t\tmessageToFinish: false,\n\t\t};\n\n\t\tconst response = await fetchData(prepare);\n\n\t\tif (response) {\n\t\t\tdispatch(updateForms('showBoletas', false, response.boletas));\n\t\t\tsetName(response.user.name);\n\t\t}else {\n\t\t\tdispatch(updateForms('showBoletas', false, []));\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tgetBoletas();\n\t\t\n\t\treturn () => {\n\t\t\tdispatch(updateForms('showBoletas', false, []));\n\t\t}\n\t\t\n\t\t// eslint-disable-next-line\n\t},[]);\n\t\n\tconst onConfirm = async handleClose => {\n\t\tconst prepare = {\n\t\t\turl: `v1/boleta/${dataDelete.id}`,\n\t\t\ttype: 'delete',\n\t\t\tmessage404: 'El usuario ya no existe',\n\t\t};\n\t\t\n\t\tconst response = await fetchData(prepare);\n\n\t\tdispatch(updateDialogs('deleteConfirmation', false, false));\n\t\t\n\t\tif (response) {\n\t\t\tgetBoletas();\n\t\t}\n\t\t\n\t\thandleClose();\n\t\tgetBoletas();\n\t}\n\t\n\treturn (\n\t\t<main className={classes.containerMain}>\n\t\t\t<Container>\n\t\t\t\t{loading && (\n\t\t\t\t\t<Box align='center'>\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{(!loading && data.length) ? (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Box fontSize='h4.fontSize' mb={3} className='text__bold--big'>\n\t\t\t\t\t\t\tBoletas subidas de {name}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t{data.map((props, key) => (<Boleta key={key} {...props} handleRefresh={getBoletas} />))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t\t\t{(!loading && !data.length) && (\n\t\t\t\t\t<Box align='center' fontSize='body1.fontSize'>\n\t\t\t\t\t\tNo hay boletas cargadas para este estudiante.\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t<DialogConfirmation callback={onConfirm}>\n\t\t\t\t\tEstáก a punto de eliminar la boleta <strong>{dataDelete.curso} {dataDelete.seccion} {dataDelete.lapso}° Lapso</strong> de <strong>{name}</strong>. Tenga en cuenta que esta acción no se puede deshacer.\n\t\t\t\t</DialogConfirmation>\n\t\t\t\t<ReplaceBoleta handleRefresh={getBoletas} name={name} />\n\t\t\t</Container>\n\t\t</main>\n\t);\n}","import React from 'react';\n\nimport { CircularProgress, Backdrop, Grid, Box, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\tprogressLabel: {\n\t\tmarginTop: 5,\n\t},\n}));\n\nfunction LoadingComponent(props) {\n\tconst { loading, backDrop = false, children } = props;\n\n\tconst SelectProgressBar = (props) => {\n\t\tconst { color = 'primary', progressLabel, progressLoading, progress } = props;\n\t\tconst classes = useStyles();\n\n\t\tif (progressLoading && progress <= 99) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Box position=\"relative\" display=\"inline-flex\">\n\t\t\t\t\t\t<CircularProgress color={color} variant=\"static\" value={progress} />\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\ttop={0}\n\t\t\t\t\t\t\tleft={0}\n\t\t\t\t\t\t\tbottom={0}\n\t\t\t\t\t\t\tright={0}\n\t\t\t\t\t\t\tposition=\"absolute\"\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t{progress}%\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{progressLabel && (\n\t\t\t\t\t\t<Grid container justify='center'>\n\t\t\t\t\t\t\t<span className={classes.progressLabel}>{progressLabel}</span>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t);\n\t\t}\n\n\t\treturn <CircularProgress color={color} />;\n\t};\n\n\tif (loading && !backDrop) {\n\t\treturn <SelectProgressBar {...props} />;\n\t}\n\n\tif (loading && backDrop) {\n\t\treturn (\n\t\t\t<Backdrop open={true} style={{ zIndex: 200 }}>\n\t\t\t\t<SelectProgressBar {...props} />\n\t\t\t</Backdrop>\n\t\t);\n\t}\n\n\treturn children;\n}\n\nexport default LoadingComponent;","const updateForms = (form, loading, data = null) => {\n  return {\n    type: `UPDATE_FORM_DATA`,\n    payload: {form, loading, data}\n  }\n}\n\nexport default updateForms;","const updateDialogs = (dialog, open, loading, data = null) => {\n  return {\n    type: `UPDATE_DIALOGS_DATA`,\n    payload: {dialog, open, loading, data}\n  }\n}\n\nexport default updateDialogs;","import React from 'react';\n\n//Material-UI\nimport { Slide } from '@material-ui/core';\n\nconst AnimationDialog = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default AnimationDialog;","import React from 'react';\n\nimport {\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tButton,\n} from '@material-ui/core';\n\nimport AnimationDialog from './AnimationDialog';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateDialogs from '../actions/updateDialogs';\n\nexport default function DialogConfirmation({ callback, children }) {\n\tconst { open, loading } = useSelector((state) => ({\n\t\topen: state.dialogs.deleteConfirmation.open,\n\t\tloading: state.dialogs.deleteConfirmation.loading,\n\t}));\n\tconst dispatch = useDispatch();\n\n\tconst handleClose = () => {\n\t\tdispatch(updateDialogs('deleteConfirmation', false, false));\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tTransitionComponent={AnimationDialog}\n\t\t\taria-labelledby=\"confirm-dialog-title\"\n\t\t\taria-describedby=\"confirm-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog-title\">¿Seguro?</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id=\"confirm-dialog-description\">\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContentText>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button disabled={loading} onClick={handleClose}>\n\t\t\t\t\tCancelar\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tdispatch(updateDialogs('deleteConfirmation', true, true));\n\t\t\t\t\t\tcallback(handleClose);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tConfirmar\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}","export default function conveterCursorCode(code) {\n\tif (typeof code === 'string') {\n\t\tconst grado = code.substring(1,2);\n\t\tconst number = code.substring(0,1);\n\t\t\n\t\tif (grado === 'G') {\n\t\t\treturn `${number} grado`;\n\t\t}else {\n\t\t\treturn `${number} año`;\n\t\t}\n\t}\n}","const downloadFiles = (blob, fileName = 'archivo') => {\n\t//Url del archivo\n\tconst url = window.URL.createObjectURL(new Blob([blob]));\n\t//Elemento Link\n\tconst link = document.createElement('a');\n\t//Linkear url\n\tlink.href = url;\n\t//Atributos,\n\tlink.setAttribute('download', fileName);\n\t//Insertar elemento\n\tdocument.body.appendChild(link);\n\t//Descargar\n\tlink.click();\n}\n\nexport const downloadFilesNotResponse = (url) => {\n\t//Elemento Link\n\tconst link = document.createElement('a');\n\t//Linkear url\n\tlink.href = url;\n\t//Obtener nombre del archivo\n\tlet fileName = url.split('/');\n\tfileName = fileName[fileName.length - 1];\n\t//Atributos,\n\tlink.setAttribute('download', `${fileName}`);\n\t//Insertar elemento\n\tdocument.body.appendChild(link);\n\t//Descargar\n\tlink.click();\n}\n\nexport default downloadFiles;"],"sourceRoot":""}