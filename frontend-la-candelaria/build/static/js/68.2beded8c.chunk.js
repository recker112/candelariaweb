(this["webpackJsonpfrontend-la-candelaria"]=this["webpackJsonpfrontend-la-candelaria"]||[]).push([[68],{1312:function(e,t,a){"use strict";a.r(t);var c=a(6),n=a(48),i=a.n(n),r=a(671),s=a(67),o=a(35),l=a(42),j=a(0),d=a.n(j),b=a(227),u=a(226),h=a(60),x=a(489),O=a(458),m=a(213),p=a(333),g=a(152),f=a(484),y=a.n(f),v=a(987),k=a(262),_=a(105),N=a(32),w=a(93),T=a(988),I=a.n(T),M=a(12),S=a(264),C=a(1),P=Object(g.a)((function(e){return{colorsito:{backgroundColor:e.palette.secondary.main,height:200,borderRadius:4,color:e.palette.secondary.contrastText},withImg:{backgroundColor:e.palette.secondary.main+"A9",height:200,borderRadius:4,color:e.palette.secondary.contrastText},button:{color:e.palette.secondary.contrastText}}}));var R=function(e){var t=e.title,a=e.slug,n=e.fecha_humano,i=e.url_portada,r=Object(M.c)(),s=P();return Object(C.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(C.jsx)(w.a,{style:{background:i?"url(".concat(i,")"):"",backgroundSize:"cover"},children:Object(C.jsxs)(u.a,{container:!0,alignItems:"space-between",className:"".concat(i?s.withImg:s.colorsito," paper--padding"),children:[Object(C.jsxs)(u.a,{item:!0,xs:12,children:[Object(C.jsx)(h.a,{children:t.length>100?"".concat(t.substring(0,100),"..."):t}),Object(C.jsxs)(h.a,{className:"text__opacity--semi",children:["Publicado ",n]})]}),Object(C.jsx)(u.a,{container:!0,justify:"flex-end",alignItems:"flex-end",item:!0,xs:12,children:Object(C.jsx)(m.a,{onClick:function(){var t=Object(c.a)({},e);r(Object(S.a)("noticia",!1,t))},component:N.b,to:"noticias/".concat(a),className:s.button,children:Object(C.jsx)(I.a,{})})})]})})})},A=a(637),D=Object(g.a)((function(e){var t;return{containerMain:(t={flexGrow:1,paddingBottom:e.spacing(10)},Object(l.a)(t,e.breakpoints.up("xs"),{marginTop:"80px"}),Object(l.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(12)}),t)}}));t.default=function(){document.title="La Candelaria - Noticias";var e=Object(j.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],l=Object(j.useState)(!0),g=Object(o.a)(l,2),f=g[0],N=g[1],w=Object(j.useState)(""),T=Object(o.a)(w,2),I=T[0],S=T[1],P=Object(j.useState)([]),E=Object(o.a)(P,2),G=E[0],F=E[1],L=Object(j.useState)(!1),U=Object(o.a)(L,2),z=U[0],B=U[1],J=0===G.length&&a,W=window.axios.CancelToken.source(),q=Object(M.d)((function(e){return{auth:e.userData.auth}})).auth,H=Object(k.c)(),K=H.register,Q=H.handleSubmit,V=Object(_.a)().fetchData,X=D();return Object(j.useEffect)((function(){f&&function(){var e=Object(s.a)(i.a.mark((function e(t,a){var c,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=q?"v1/posts/auth?offset=".concat(t,"&limit=").concat(a,"&search=").concat(encodeURI(I)):"v1/posts?offset=".concat(t,"&limit=").concat(a,"&search=").concat(encodeURI(I)),s={url:c,type:"get",messageToFinish:!1,data:{cancelToken:W.token}},e.next=4,V(s);case 4:(o=e.sent)?(F([].concat(Object(r.a)(G),Object(r.a)(o.data))),n(!o.data.length||o.finish)):B(!0),N(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()(G.length,12);return function(){W&&W.cancel()}}),[f]),Object(j.useEffect)((function(){f||q||(F([]),n(!1),N(!0))}),[q]),Object(C.jsxs)(d.a.Fragment,{children:[Object(C.jsx)("main",{className:X.containerMain,children:Object(C.jsx)(b.a,{children:Object(C.jsxs)(u.a,{container:!0,justify:"center",spacing:2,children:[Object(C.jsx)(u.a,{item:!0,xs:12,sm:!0,children:Object(C.jsx)(h.a,{variant:"h4",className:"text__bold--big",children:"Noticias"})}),Object(C.jsx)(u.a,{item:!0,xs:12,sm:6,md:4,children:Object(C.jsx)("form",{onSubmit:Q((function(e){F([]),n(!1),S(e.search),N(!0)})),autoComplete:"off",children:Object(C.jsx)(x.a,{inputRef:K,name:"search",label:"Buscar noticia",variant:"outlined",size:"small",fullWidth:!0,InputProps:{endAdornment:Object(C.jsx)(O.a,{position:"end",children:Object(C.jsx)(m.a,{size:"small",disabled:f,type:"submit",children:Object(C.jsx)(y.a,{})})})}})})}),G.length>0&&Object(C.jsx)(u.a,{item:!0,xs:12,children:Object(C.jsx)(v.a,{dataLength:G.length,hasMore:!a,inverse:!0,next:function(){N(!0)},style:{overflow:"hidden"},className:"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 MuiGrid-justify-xs-center",scrollThreshold:.8,loader:Object(C.jsx)(u.a,{container:!0,justify:"center",item:!0,xs:12,children:Object(C.jsx)(p.a,{})}),endMessage:Object(C.jsx)(u.a,{item:!0,xs:12,children:Object(C.jsx)(h.a,{align:"center",children:"No hay m\xe1s noticias publicadas."})}),children:G.map((function(e,t){return Object(C.jsx)(R,Object(c.a)({},e),t)}))})}),!G.length&&!a&&!z&&Object(C.jsx)(u.a,{container:!0,justify:"center",item:!0,xs:12,children:Object(C.jsx)(p.a,{})}),J&&!I.length&&Object(C.jsx)(u.a,{item:!0,xs:12,children:Object(C.jsx)(h.a,{align:"center",children:"No hay noticias publicadas."})}),J&&0!==I.length&&Object(C.jsx)(d.a.Fragment,{children:Object(C.jsx)(u.a,{item:!0,xs:12,children:Object(C.jsxs)(h.a,{align:"center",children:['No se ha encontrado nada relacionado con "',I,'".',Object(C.jsx)("br",{}),"Intente probar con otras palabras."]})})}),z&&Object(C.jsx)(u.a,{item:!0,xs:12,children:Object(C.jsx)(h.a,{align:"center",children:"Se ha producido un error al intentar obtener los datos, intente recargar la p\xe1gina."})})]})})}),!q&&Object(C.jsx)(A.a,{})]})}},264:function(e,t,a){"use strict";t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"UPDATE_FORM_DATA",payload:{form:e,loading:t,data:a}}}},637:function(e,t,a){"use strict";a(0);var c=a(355),n=a(227),i=a(226),r=a(60),s=a(231),o=a(81),l=a(1);t.a=function(){return Object(l.jsx)(c.a,{bgcolor:"primary.main",color:"primary.contrastText",component:"footer",py:3,children:Object(l.jsx)(n.a,{children:Object(l.jsxs)(i.a,{container:!0,alignItems:"center",children:[Object(l.jsxs)(i.a,{item:!0,xs:12,sm:!0,children:[Object(l.jsx)(r.a,{children:'\xa9 U.E.P A.P.E.P "La Candelaria" | 2020'}),Object(l.jsx)(r.a,{variant:"body2",className:"text__opacity--semi",children:"Desarrollado por Recker"})]}),Object(l.jsxs)(i.a,{container:!0,direction:"column",alignItems:"flex-end",item:!0,xs:12,sm:!0,children:[Object(l.jsx)(r.a,{variant:"h6",className:"text__opacity--semi text__bold--semi",children:"Powered by"}),Object(l.jsx)(s.a,{target:"_blank",href:"https://github.com/recker112/gedure",children:Object(l.jsx)("img",{src:o.a,alt:"Logo de gedure",height:"30",style:{opacity:.99}})})]})]})})})}}}]);
//# sourceMappingURL=68.2beded8c.chunk.js.map